<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crazy Dave's Ultimate Adventure</title>
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/sahel-font@v3.4.0/dist/font-face.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/shabnam-font@v5.0.1/dist/font-face.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/parastoo-font@v1.0.3/dist/font-face.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/tanha-font@v0.10/dist/font-face.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/gandom-font@v0.5.1/dist/font-face.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #8BC34A;
            --secondary-color: #FF9800;
            --accent-color: #4CAF50;
            --text-color: #333;
            --bg-color: #f5f5f5;
            --card-bg: #ffffff;
            --header-height: 60px;
            --footer-height: 40px;
            --font-main: 'Vazirmatn', 'Sahel', sans-serif;
            --font-title: 'Gandom', 'Vazirmatn', sans-serif;
            --lawn-green: #87C159;
            --lawn-dark-green: #6B9E3F;
            --sun-yellow: #FFEB3B;
            --pea-green: #4CAF50;
            --zombie-green: #5D8C5D;
            --shadow-light: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-medium: 0 8px 15px rgba(0, 0, 0, 0.15);
            --shadow-heavy: 0 12px 25px rgba(0, 0, 0, 0.2);
            --transition-fast: 0.3s ease;
            --transition-medium: 0.5s ease;
            --transition-slow: 0.8s ease;
            --font-size-base: 18px;
        }

        .theme-dark {
            --primary-color: #689F38;
            --secondary-color: #FF5722;
            --accent-color: #388E3C;
            --text-color: #f5f5f5;
            --bg-color: #2E2E2E;
            --card-bg: #424242;
            --lawn-green: #5A7D3C;
            --lawn-dark-green: #4A6531;
        }

        .theme-zombie {
            --primary-color: #795548;
            --secondary-color: #FF5722;
            --accent-color: #5D4037;
            --text-color: #f5f5f5;
            --bg-color: #3E2723;
            --card-bg: #5D4037;
            --lawn-green: #5D4037;
            --lawn-dark-green: #4E342E;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: all var(--transition-medium);
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(135, 193, 89, 0.2) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(255, 152, 0, 0.2) 0%, transparent 20%),
                radial-gradient(circle at 50% 50%, rgba(76, 175, 80, 0.1) 0%, transparent 30%);
            background-size: 300px 300px, 400px 400px, 500px 500px;
            background-attachment: fixed;
            font-size: var(--font-size-base);
        }

        body.english {
            direction: ltr;
            text-align: left;
        }

        /* Particle Background */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, var(--sun-yellow) 0%, transparent 70%);
            opacity: 0.6;
            animation: float-particle 15s infinite linear;
        }

        @keyframes float-particle {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0.7;
            }
            50% {
                opacity: 0.3;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0.7;
            }
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 1;
        }

        /* Language Selection Screen */
        #language-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(135deg, var(--lawn-green) 0%, var(--accent-color) 100%),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%2387C159"/><path d="M0 0L100 100M100 0L0 100" stroke="%236B9E3F" stroke-width="2"/></svg>');
            background-size: 200px 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            color: white;
            overflow: hidden;
        }

        .language-title {
            font-family: var(--font-title);
            font-size: 3.5rem;
            margin-bottom: 40px;
            text-shadow: 3px 3px 0 #000, 5px 5px 0 rgba(0,0,0,0.3);
            text-align: center;
            animation: title-glow 2s infinite alternate;
        }

        @keyframes title-glow {
            from {
                text-shadow: 3px 3px 0 #000, 5px 5px 0 rgba(0,0,0,0.3);
            }
            to {
                text-shadow: 3px 3px 0 #000, 5px 5px 0 rgba(0,0,0,0.3), 0 0 15px var(--sun-yellow);
            }
        }

        .language-options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            max-width: 800px;
        }

        .language-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            cursor: pointer;
            transition: all var(--transition-fast);
            width: 320px;
            text-align: center;
            box-shadow: var(--shadow-heavy);
            position: relative;
            overflow: hidden;
            border: 5px solid transparent;
        }

        .language-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
            opacity: 0;
            transition: opacity var(--transition-fast);
            z-index: -1;
        }

        .language-option:hover {
            transform: translateY(-15px) scale(1.05);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: var(--sun-yellow);
        }

        .language-option:hover::before {
            opacity: 0.1;
        }

        .language-flag {
            font-size: 5rem;
            margin-bottom: 20px;
            filter: drop-shadow(2px 2px 0 #000);
            transition: transform var(--transition-fast);
        }

        .language-option:hover .language-flag {
            transform: scale(1.2) rotate(5deg);
        }

        .language-name {
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--text-color);
            margin-bottom: 15px;
            font-family: var(--font-title);
        }

        .language-desc {
            font-size: 1.3rem;
            color: var(--text-color);
            opacity: 0.9;
        }

        /* Loading Screen */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(135deg, var(--lawn-green) 0%, var(--accent-color) 100%),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%2387C159"/><path d="M0 0L100 100M100 0L0 100" stroke="%236B9E3F" stroke-width="2"/></svg>');
            background-size: 200px 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            color: white;
        }

        .lawn-stripes {
            position: absolute;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(255,255,255,0.1) 10px,
                rgba(255,255,255,0.1) 20px
            );
        }

        #loading-screen h1 {
            font-family: var(--font-title);
            font-size: 4rem;
            margin-bottom: 15px;
            text-shadow: 4px 4px 0 #000, 6px 6px 0 rgba(0,0,0,0.3);
            animation: bounce 2s infinite;
            color: var(--sun-yellow);
            text-align: center;
        }

        #loading-screen h2 {
            font-size: 2rem;
            animation: fadeInOut 2s infinite;
            margin-bottom: 40px;
            text-align: center;
            max-width: 80%;
            text-shadow: 2px 2px 0 #000;
        }

        .loading-bar-container {
            width: 500px;
            height: 35px;
            background-color: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            margin-top: 30px;
            overflow: hidden;
            border: 3px solid #000;
            position: relative;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
        }

        .loading-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--sun-yellow), var(--secondary-color), var(--sun-yellow));
            border-radius: 20px;
            animation: loading 5s forwards;
            position: relative;
            overflow: hidden;
            background-size: 200% 100%;
            animation: loading 5s forwards, gradient-shift 3s infinite;
        }

        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .loading-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent);
            animation: shine 1.5s infinite;
        }

        .zombie-head {
            position: absolute;
            width: 50px;
            height: 50px;
            background-color: var(--zombie-green);
            border-radius: 50%;
            top: -7px;
            left: 0;
            transform: translateX(-50%);
            transition: left 5s linear;
            z-index: 2;
            border: 3px solid #000;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }

        .zombie-head::before, .zombie-head::after {
            content: '';
            position: absolute;
            width: 12px;
            height: 12px;
            background-color: #000;
            border-radius: 50%;
            top: 15px;
        }

        .zombie-head::before {
            left: 10px;
        }

        .zombie-head::after {
            right: 10px;
        }

        .zombie-mouth {
            position: absolute;
            width: 25px;
            height: 10px;
            background-color: #000;
            border-radius: 0 0 12px 12px;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .loading-plants {
            display: flex;
            justify-content: space-between;
            width: 500px;
            margin-top: 20px;
        }

        .loading-plant {
            font-size: 2.5rem;
            opacity: 0;
            animation: plant-appear 0.5s forwards;
        }

        @keyframes plant-appear {
            to { opacity: 1; }
        }

        @keyframes loading {
            0% { width: 0%; }
            100% { width: 100%; }
        }

        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-25px); }
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        /* Main Menu */
        #main-menu {
            text-align: center;
            padding: 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            box-shadow: var(--shadow-heavy);
            margin-top: 20px;
            border: 8px solid var(--lawn-dark-green);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        #main-menu::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(255, 235, 59, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(76, 175, 80, 0.1) 0%, transparent 50%);
            z-index: 0;
        }

        .logo {
            font-family: var(--font-title);
            font-size: 5.5rem;
            color: var(--secondary-color);
            text-shadow: 5px 5px 0 #000, 8px 8px 0 rgba(0,0,0,0.3);
            margin-bottom: 30px;
            animation: glow 2s infinite alternate, float 6s infinite ease-in-out;
            position: relative;
            z-index: 1;
            letter-spacing: 3px;
        }

        .logo-subtitle {
            font-family: var(--font-main);
            font-size: 1.8rem;
            color: var(--text-color);
            margin-top: -20px;
            margin-bottom: 50px;
            text-shadow: 1px 1px 0 #FFF;
            position: relative;
            z-index: 1;
        }

        @keyframes glow {
            from { 
                text-shadow: 5px 5px 0 #000, 8px 8px 0 rgba(0,0,0,0.3), 0 0 10px var(--sun-yellow); 
            }
            to { 
                text-shadow: 5px 5px 0 #000, 8px 8px 0 rgba(0,0,0,0.3), 0 0 25px var(--sun-yellow), 0 0 40px var(--secondary-color); 
            }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .menu-buttons {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            position: relative;
            z-index: 1;
        }

        .menu-button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 85%;
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            border: none;
            border-radius: 18px;
            font-family: var(--font-main);
            font-size: 1.4rem;
            cursor: pointer;
            transition: all var(--transition-fast);
            box-shadow: 0 8px 0 var(--lawn-dark-green), var(--shadow-medium);
            position: relative;
            z-index: 1;
            text-shadow: 1px 1px 1px rgba(0,0,0,0.3);
            overflow: hidden;
            gap: 10px;
        }

        .menu-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.7s;
        }

        .menu-button:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 0 var(--lawn-dark-green), 0 20px 25px rgba(0,0,0,0.3);
        }

        .menu-button:hover::before {
            left: 100%;
        }

        .menu-button:active {
            transform: translateY(0);
            box-shadow: 0 4px 0 var(--lawn-dark-green), 0 8px 15px rgba(0,0,0,0.2);
        }

        .menu-button i {
            font-size: 1.6rem;
        }

        /* Story Screen */
        #story-screen {
            display: none;
        }

        .lawn-background {
            background-color: var(--lawn-green);
            border-radius: 25px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--shadow-heavy);
            position: relative;
            min-height: 600px;
            border: 8px solid var(--lawn-dark-green);
            overflow: hidden;
        }

        .lawn-background::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 19px,
                    rgba(0,0,0,0.05) 19px,
                    rgba(0,0,0,0.05) 20px
                ),
                repeating-linear-gradient(
                    90deg,
                    transparent,
                    transparent 19px,
                    rgba(0,0,0,0.05) 19px,
                    rgba(0,0,0,0.05) 20px
                );
            pointer-events: none;
        }

        .page-header {
            text-align: center;
            border-bottom: 4px solid var(--primary-color);
            padding-bottom: 20px;
            margin-bottom: 30px;
            position: relative;
        }

        .page-header h2 {
            font-family: var(--font-title);
            font-size: 2.5rem;
            color: var(--secondary-color);
            text-shadow: 3px 3px 0 #000;
            letter-spacing: 1.5px;
        }

        .page-content {
            background-color: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 25px;
            box-shadow: var(--shadow-light);
            border: 3px solid var(--accent-color);
            font-size: 1.2rem;
            line-height: 1.7;
            position: relative;
            z-index: 1;
            backdrop-filter: blur(5px);
        }

        .page-number {
            position: absolute;
            bottom: 20px;
            right: 30px;
            font-size: 1rem;
            color: var(--text-color);
            opacity: 0.7;
            background: rgba(255,255,255,0.8);
            padding: 8px 15px;
            border-radius: 15px;
            z-index: 2;
            box-shadow: var(--shadow-light);
        }

        body.english .page-number {
            right: auto;
            left: 30px;
        }

        .character-image {
            float: right;
            margin-left: 25px;
            margin-bottom: 15px;
            width: 140px;
            height: 140px;
            border-radius: 15px;
            border: 4px solid var(--secondary-color);
            background-color: var(--card-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            box-shadow: var(--shadow-medium);
            animation: character-float 5s infinite ease-in-out;
        }

        @keyframes character-float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        body.english .character-image {
            float: left;
            margin-left: 0;
            margin-right: 25px;
        }

        .choices {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 35px;
        }

        .choice-button {
            padding: 18px;
            background: linear-gradient(135deg, var(--secondary-color), #E65100);
            color: white;
            border: none;
            border-radius: 15px;
            font-family: var(--font-main);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all var(--transition-fast);
            text-align: right;
            box-shadow: 0 5px 0 #B71C1C, var(--shadow-light);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        body.english .choice-button {
            text-align: left;
        }

        .choice-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.7s;
        }

        .choice-button:hover {
            transform: translateX(-12px);
            box-shadow: 0 7px 0 #B71C1C, 0 10px 20px rgba(0,0,0,0.2);
        }

        body.english .choice-button:hover {
            transform: translateX(12px);
        }

        .choice-button:hover::before {
            left: 100%;
        }

        .choice-button i {
            font-size: 1.4rem;
        }

        /* Navigation */
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        .nav-button {
            padding: 15px 30px;
            background: linear-gradient(135deg, var(--accent-color), var(--primary-color));
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-family: var(--font-main);
            font-size: 1.2rem;
            box-shadow: 0 5px 0 var(--lawn-dark-green), var(--shadow-light);
            transition: all var(--transition-fast);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 0 var(--lawn-dark-green), 0 12px 20px rgba(0,0,0,0.2);
        }

        .nav-button:active {
            transform: translateY(0);
            box-shadow: 0 3px 0 var(--lawn-dark-green), 0 6px 10px rgba(0,0,0,0.15);
        }

        /* Settings */
        #settings-screen {
            display: none;
        }

        .setting-option {
            margin-bottom: 25px;
            background: rgba(255,255,255,0.8);
            padding: 20px;
            border-radius: 15px;
            box-shadow: var(--shadow-light);
            border: 2px solid var(--primary-color);
        }

        .setting-option label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .setting-option select, .setting-option input {
            width: 100%;
            padding: 12px;
            border-radius: 10px;
            border: 2px solid var(--primary-color);
            font-family: var(--font-main);
            font-size: 1.1rem;
            background: white;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }

        .setting-option input[type="range"] {
            -webkit-appearance: none;
            height: 18px;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            border-radius: 12px;
            outline: none;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.2);
        }

        .setting-option input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 28px;
            height: 28px;
            background: var(--secondary-color);
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid #000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        /* Floating Button */
        .floating-button {
            position: fixed;
            bottom: 25px;
            right: 25px;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary-color), #E65100);
            color: white;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            box-shadow: var(--shadow-heavy);
            z-index: 100;
            transition: all var(--transition-fast);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        body.english .floating-button {
            right: auto;
            left: 25px;
        }

        .floating-button:hover {
            transform: scale(1.15) rotate(-15deg);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
        }

        body.english .floating-button:hover {
            transform: scale(1.15) rotate(15deg);
        }

        /* Credits Screen */
        #credits-screen {
            display: none;
            text-align: center;
        }

        .credits-content {
            max-height: 70vh;
            overflow-y: auto;
            padding: 30px;
            background-color: var(--card-bg);
            border-radius: 20px;
            margin-bottom: 25px;
            box-shadow: var(--shadow-medium);
            border: 4px solid var(--primary-color);
            text-align: right;
            backdrop-filter: blur(5px);
        }

        body.english .credits-content {
            text-align: left;
        }

        .credits-content h3 {
            color: var(--secondary-color);
            text-align: center;
            margin-bottom: 25px;
            font-family: var(--font-title);
            font-size: 2.2rem;
            text-shadow: 2px 2px 0 #000;
        }

        .credits-content p {
            margin-bottom: 20px;
            line-height: 1.7;
        }

        .credits-content a {
            color: var(--accent-color);
            text-decoration: none;
            font-weight: bold;
            transition: color var(--transition-fast);
        }

        .credits-content a:hover {
            color: var(--secondary-color);
            text-decoration: underline;
        }

        /* Table of Contents */
        #toc-screen {
            display: none;
        }

        .toc-item {
            padding: 18px;
            border-bottom: 3px solid var(--primary-color);
            cursor: pointer;
            transition: all var(--transition-fast);
            font-size: 1.2rem;
            background: rgba(255,255,255,0.8);
            margin-bottom: 8px;
            border-radius: 12px;
            box-shadow: var(--shadow-light);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toc-item:hover {
            background-color: var(--primary-color);
            color: white;
            transform: translateX(-12px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }

        body.english .toc-item:hover {
            transform: translateX(12px);
        }

        .toc-item i {
            font-size: 1.4rem;
        }

        /* Stats Screen */
        #stats-screen {
            display: none;
        }

        .stats-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            margin-bottom: 25px;
            background: rgba(255,255,255,0.85);
            padding: 20px;
            border-radius: 20px;
            border: 3px solid var(--accent-color);
            box-shadow: var(--shadow-light);
        }

        .stat-item {
            text-align: center;
            margin: 15px;
            flex: 1 0 30%;
            min-width: 170px;
            padding: 15px;
            background: rgba(255,255,255,0.7);
            border-radius: 15px;
            box-shadow: var(--shadow-light);
            border: 2px solid var(--primary-color);
        }

        .stat-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--secondary-color);
            text-shadow: 1px 1px 0 #000;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-color);
            margin-top: 5px;
        }

        /* Plant and Zombie Animations */
        .sun {
            position: absolute;
            width: 70px;
            height: 70px;
            background: radial-gradient(circle, var(--sun-yellow) 40%, #FFC107);
            border-radius: 50%;
            box-shadow: 0 0 25px var(--sun-yellow);
            animation: float 10s infinite ease-in-out;
            z-index: 0;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-25px) rotate(180deg); }
        }

        .pea {
            position: absolute;
            width: 18px;
            height: 18px;
            background-color: var(--pea-green);
            border-radius: 50%;
            z-index: 1;
            box-shadow: 0 0 5px rgba(0,0,0,0.3);
        }

        /* Ending Screen */
        .ending-message {
            text-align: center;
            padding: 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            margin: 25px 0;
            border: 4px solid var(--secondary-color);
            box-shadow: var(--shadow-medium);
        }

        .ending-title {
            font-family: var(--font-title);
            font-size: 3rem;
            color: var(--secondary-color);
            text-shadow: 3px 3px 0 #000;
            margin-bottom: 20px;
        }

        .ending-subtitle {
            font-size: 1.5rem;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .logo {
                font-size: 3.5rem;
            }
            
            .language-title {
                font-size: 2.5rem;
            }
            
            .language-option {
                width: 280px;
                padding: 30px 20px;
            }
            
            .loading-bar-container {
                width: 90%;
            }
            
            .loading-plants {
                width: 90%;
            }
            
            .menu-button {
                width: 95%;
            }
            
            .page-header h2 {
                font-size: 2rem;
            }
            
            .character-image {
                width: 100px;
                height: 100px;
                font-size: 3.5rem;
            }
            
            .stats-container {
                flex-direction: column;
            }
            
            .stat-item {
                flex: 1 0 100%;
            }
        }

        @media (max-width: 480px) {
            .logo {
                font-size: 2.8rem;
            }
            
            .language-title {
                font-size: 2rem;
            }
            
            .language-option {
                width: 95%;
            }
            
            .page-header h2 {
                font-size: 1.8rem;
            }
            
            .character-image {
                float: none;
                margin: 0 auto 20px;
            }
            
            .choice-button {
                font-size: 1rem;
                padding: 15px;
            }
            
            .nav-button {
                padding: 12px 20px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Language Selection Screen -->
    <div id="language-screen">
        <h1 class="language-title">Crazy Dave's Ultimate Adventure</h1>
        <div class="language-options">
            <div class="language-option" onclick="selectLanguage('fa')">
                <div class="language-flag">ğŸ‡®ğŸ‡·</div>
                <div class="language-name">ÙØ§Ø±Ø³ÛŒ</div>
                <div class="language-desc">ØªØ¬Ø±Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ Ø¨Ù‡ Ø²Ø¨Ø§Ù† ÙØ§Ø±Ø³ÛŒ</div>
            </div>
            <div class="language-option" onclick="selectLanguage('en')">
                <div class="language-flag">ğŸ‡ºğŸ‡¸</div>
                <div class="language-name">English</div>
                <div class="language-desc">Experience the game in English</div>
            </div>
        </div>
    </div>

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="lawn-stripes"></div>
        <h1>Crazy Dave's Ultimate Adventure</h1>
        <h2>Loading... Get ready for an amazing journey!</h2>
        <div class="loading-bar-container">
            <div class="loading-bar"></div>
            <div class="zombie-head"></div>
        </div>
        <div class="loading-plants">
            <div class="loading-plant" style="animation-delay: 0.5s;">ğŸŒ»</div>
            <div class="loading-plant" style="animation-delay: 1s;">ğŸŒ±</div>
            <div class="loading-plant" style="animation-delay: 1.5s;">ğŸŒ¿</div>
            <div class="loading-plant" style="animation-delay: 2s;">ğŸƒ</div>
            <div class="loading-plant" style="animation-delay: 2.5s;">ğŸŒµ</div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Main Menu -->
        <div id="main-menu">
            <h1 class="logo">Crazy Dave's Ultimate Adventure</h1>
            <div class="logo-subtitle">A Plants vs. Zombies Interactive Story</div>
            <div class="menu-buttons">
                <button class="menu-button" onclick="showScreen('story-screen')">
                    <i class="fas fa-book"></i> Ø´Ø±ÙˆØ¹ Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒÛŒ
                </button>
                <button class="menu-button" onclick="showScreen('toc-screen')">
                    <i class="fas fa-list"></i> ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨
                </button>
                <button class="menu-button" onclick="showScreen('stats-screen')">
                    <i class="fas fa-chart-bar"></i> Ø¢Ù…Ø§Ø± Ùˆ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§
                </button>
                <button class="menu-button" onclick="showScreen('settings-screen')">
                    <i class="fas fa-cog"></i> ØªÙ†Ø¸ÛŒÙ…Ø§Øª
                </button>
                <button class="menu-button" onclick="showScreen('credits-screen')">
                    <i class="fas fa-info-circle"></i> Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø¨Ø§Ø²ÛŒ
                </button>
            </div>
        </div>

        <!-- Story Screen -->
        <div id="story-screen">
            <div class="lawn-background">
                <div class="sun" style="top: 50px; right: 80px;"></div>
                <div class="sun" style="top: 200px; left: 100px; width: 40px; height: 40px;"></div>
                <div class="sun" style="bottom: 120px; right: 200px; width: 50px; height: 50px;"></div>
                
                <div class="page-header">
                    <h2>Ø´Ø±ÙˆØ¹ Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒÛŒ Ø¯ÛŒÙˆ!</h2>
                </div>
                <div class="page-content">
                    <div class="character-image">
                        <i class="fas fa-user"></i>
                    </div>
                    <p>ØµØ¨Ø­ ÛŒÚ©Ø´Ù†Ø¨Ù‡ Ø²ÛŒØ¨Ø§ÛŒÛŒ Ø§Ø³Øª. Ø´Ù…Ø§ Ø¯Ø± Ø¨Ø§Øº Ø®ÙˆØ¯ Ù†Ø´Ø³ØªÙ‡â€ŒØ§ÛŒØ¯ Ùˆ ÛŒÚ© ÙÙ†Ø¬Ø§Ù† Ù‚Ù‡ÙˆÙ‡ Ú¯Ø±Ù… Ù…ÛŒâ€ŒÙ†ÙˆØ´ÛŒØ¯. Ù¾Ø±Ù†Ø¯Ù‡â€ŒÙ‡Ø§ Ø¢ÙˆØ§Ø² Ù…ÛŒâ€ŒØ®ÙˆØ§Ù†Ù†Ø¯ Ùˆ Ø®ÙˆØ±Ø´ÛŒØ¯ Ø¨Ù‡ Ø¢Ø±Ø§Ù…ÛŒ Ø·Ù„ÙˆØ¹ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ù†Ø§Ú¯Ù‡Ø§Ù†ØŒ ØµØ¯Ø§ÛŒ Ø¹Ø¬ÛŒØ¨ÛŒ Ø§Ø² Ø¯ÙˆØ± Ø¨Ù‡ Ú¯ÙˆØ´ Ù…ÛŒâ€ŒØ±Ø³Ø¯. ØµØ¯Ø§ÛŒÛŒ Ø´Ø¨ÛŒÙ‡ Ø¨Ù‡ Ù†Ø§Ù„Ù‡... ÛŒØ§ Ø´Ø§ÛŒØ¯ Ø²Ù…Ø²Ù…Ù‡ØŸ</p>
                    <p>Ù‡Ù…Ø³Ø§ÛŒÙ‡ Ø´Ù…Ø§ØŒ Ø¯ÛŒÙˆ Ø¯ÛŒÙˆØ§Ù†Ù‡ØŒ Ø¨Ø§ Ø³Ø±Ø¹Øª Ø¨Ù‡ Ø³Ù…Øª Ø´Ù…Ø§ Ù…ÛŒâ€ŒØ¯ÙˆØ¯. Ù…ÙˆÙ‡Ø§ÛŒØ´ Ø¢Ø´ÙØªÙ‡ Ùˆ Ú†Ø´Ù…Ø§Ù†Ø´ Ø§Ø² Ø­Ø¯Ù‚Ù‡ Ø¨ÛŒØ±ÙˆÙ† Ø²Ø¯Ù‡ Ø§Ø³Øª. "Ø²Ø§Ù…Ø¨ÛŒâ€ŒÙ‡Ø§! Ø²Ø§Ù…Ø¨ÛŒâ€ŒÙ‡Ø§ Ù…ÛŒâ€ŒØ¢ÛŒÙ†Ø¯!" ÙØ±ÛŒØ§Ø¯ Ù…ÛŒâ€ŒØ²Ù†Ø¯.</p>
                    <p>Ø´Ù…Ø§ Ø§Ø¨ØªØ¯Ø§ ÙÚ©Ø± Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ Ø´Ø§ÛŒØ¯ Ø¯ÛŒÙˆ Ø¨Ø§Ø² Ù‡Ù… Ø²ÛŒØ§Ø¯ Ù‚Ù‡ÙˆÙ‡ Ø®ÙˆØ±Ø¯Ù‡ Ø§Ø³ØªØŒ Ø§Ù…Ø§ Ø³Ù¾Ø³ Ø§ÙˆÙ„ÛŒÙ† Ø²Ø§Ù…Ø¨ÛŒ Ø±Ø§ Ù…ÛŒâ€ŒØ¨ÛŒÙ†ÛŒØ¯ Ú©Ù‡ Ø§Ø² Ù¾Ø´Øª Ø­ØµØ§Ø± Ø¨Ø§Øº Ø¸Ø§Ù‡Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒâ€ŒØ±Ø³Ø¯ ÙˆØ§Ù‚Ø¹Ø§Ù‹ Ø§ØªÙØ§Ù‚ÛŒ Ø¯Ø± Ø­Ø§Ù„ Ø±Ø® Ø¯Ø§Ø¯Ù† Ø§Ø³Øª!</p>
                    <div class="choices">
                        <button class="choice-button" onclick="makeChoice(1)">
                            <i class="fas fa-seedling"></i> Ø¨Ù‡ Ø¯ÛŒÙˆ Ú©Ù…Ú© Ú©Ù†Ù… Ùˆ Ú¯ÛŒØ§Ù‡Ø§Ù† Ø±Ø§ Ø¢Ù…Ø§Ø¯Ù‡ Ú©Ù†Ù…
                        </button>
                        <button class="choice-button" onclick="makeChoice(2)">
                            <i class="fas fa-home"></i> Ø¯Ø± Ø®Ø§Ù†Ù‡ Ù¾Ù†Ù‡Ø§Ù† Ø´ÙˆÙ… Ùˆ Ù…Ù†ØªØ¸Ø± Ø¨Ù…Ø§Ù†Ù…
                        </button>
                        <button class="choice-button" onclick="makeChoice(3)">
                            <i class="fas fa-car"></i> Ø³Ø¹ÛŒ Ú©Ù†Ù… Ø¨Ø§ Ù…Ø§Ø´ÛŒÙ† ÙØ±Ø§Ø± Ú©Ù†Ù…
                        </button>
                    </div>
                </div>
                <div class="page-number">ØµÙØ­Ù‡ 1</div>
            </div>
            <div class="navigation">
                <button class="nav-button" onclick="previousPage()">
                    <i class="fas fa-arrow-right"></i> ØµÙØ­Ù‡ Ù‚Ø¨Ù„ÛŒ
                </button>
                <button class="nav-button" onclick="nextPage()">
                    ØµÙØ­Ù‡ Ø¨Ø¹Ø¯ÛŒ <i class="fas fa-arrow-left"></i>
                </button>
            </div>
        </div>

        <!-- Table of Contents Screen -->
        <div id="toc-screen">
            <div class="page-header">
                <h2>ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨</h2>
            </div>
            <div class="page-content">
                <div class="toc-item" onclick="goToChapter(1)">
                    <i class="fas fa-seedling"></i> ÙØµÙ„ Û±: Ø¢ØºØ§Ø² Ø­Ù…Ù„Ù‡ Ø²Ø§Ù…Ø¨ÛŒâ€ŒÙ‡Ø§
                </div>
                <div class="toc-item" onclick="goToChapter(2)">
                    <i class="fas fa-sun"></i> ÙØµÙ„ Û²: Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ú¯ÛŒØ§Ù‡Ø§Ù†
                </div>
                <div class="toc-item" onclick="goToChapter(3)">
                    <i class="fas fa-shield-alt"></i> ÙØµÙ„ Û³: Ø§ÙˆÙ„ÛŒÙ† Ù†Ø¨Ø±Ø¯
                </div>
                <div class="toc-item" onclick="goToChapter(4)">
                    <i class="fas fa-home"></i> ÙØµÙ„ Û´: Ø¯ÙØ§Ø¹ Ø§Ø² Ø®Ø§Ù†Ù‡
                </div>
                <div class="toc-item" onclick="goToChapter(5)">
                    <i class="fas fa-bolt"></i> ÙØµÙ„ Ûµ: Ø­Ù…Ù„Ù‡ Ù†Ù‡Ø§ÛŒÛŒ
                </div>
                <div class="toc-item" onclick="goToChapter(6)">
                    <i class="fas fa-trophy"></i> ÙØµÙ„ Û¶: Ù¾Ø§ÛŒØ§Ù† Ù…Ø§Ø¬Ø±Ø§
                </div>
            </div>
            <div class="navigation">
                <button class="nav-button" onclick="showScreen('main-menu')">
                    <i class="fas fa-home"></i> Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
                </button>
            </div>
        </div>

        <!-- Stats Screen -->
        <div id="stats-screen">
            <div class="page-header">
                <h2>Ø¢Ù…Ø§Ø± Ùˆ Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§</h2>
            </div>
            <div class="stats-container">
                <div class="stat-item">
                    <div class="stat-value">Ûµ</div>
                    <div class="stat-label">ØµÙØ­Ø§Øª Ø®ÙˆØ§Ù†Ø¯Ù‡ Ø´Ø¯Ù‡</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">Û³</div>
                    <div class="stat-label">Ø§Ù†ØªØ®Ø§Ø¨â€ŒÙ‡Ø§ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">Û²</div>
                    <div class="stat-label">Ø²Ø§Ù…Ø¨ÛŒâ€ŒÙ‡Ø§ÛŒ Ø´Ú©Ø³Øª Ø®ÙˆØ±Ø¯Ù‡</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">Û±</div>
                    <div class="stat-label">Ú¯ÛŒØ§Ù‡Ø§Ù† Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ø´Ø¯Ù‡</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">Û°</div>
                    <div class="stat-label">Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø² Ø¯Ø³Øª Ø±ÙØªÙ‡</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">Û±Û°%</div>
                    <div class="stat-label">Ù¾ÛŒØ´Ø±ÙØª Ú©Ù„ÛŒ</div>
                </div>
            </div>
            <div class="page-content">
                <h3>Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ø´Ù…Ø§</h3>
                <div class="toc-item">
                    <i class="fas fa-trophy" style="color: gold;"></i> Ø´Ø±ÙˆØ¹ Ú©Ù†Ù†Ø¯Ù‡ Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒÛŒ - Ø¨Ø§Ø²ÛŒ Ø±Ø§ Ø´Ø±ÙˆØ¹ Ú©Ø±Ø¯ÛŒØ¯
                </div>
                <div class="toc-item">
                    <i class="fas fa-seedling" style="color: green;"></i> Ø¯ÙˆØ³Øª Ú¯ÛŒØ§Ù‡Ø§Ù† - Ø¨Ø§ Ø¯ÛŒÙˆ Ù‡Ù…Ú©Ø§Ø±ÛŒ Ú©Ø±Ø¯ÛŒØ¯
                </div>
                <div class="toc-item" style="opacity: 0.5;">
                    <i class="fas fa-shield-alt"></i> Ù…Ø¯Ø§ÙØ¹ Ø¨Ø§Øº - Û±Û° Ø²Ø§Ù…Ø¨ÛŒ Ø±Ø§ Ø´Ú©Ø³Øª Ø¯Ù‡ÛŒØ¯
                </div>
                <div class="toc-item" style="opacity: 0.5;">
                    <i class="fas fa-crown"></i> Ù‚Ù‡Ø±Ù…Ø§Ù† Ù†Ù‡Ø§ÛŒÛŒ - Ø¨Ø§Ø²ÛŒ Ø±Ø§ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø¨Ø±Ø³Ø§Ù†ÛŒØ¯
                </div>
            </div>
            <div class="navigation">
                <button class="nav-button" onclick="showScreen('main-menu')">
                    <i class="fas fa-home"></i> Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
                </button>
            </div>
        </div>

        <!-- Settings Screen -->
        <div id="settings-screen">
            <div class="page-header">
                <h2>ØªÙ†Ø¸ÛŒÙ…Ø§Øª</h2>
            </div>
            <div class="page-content">
                <div class="setting-option">
                    <label for="font-select">ÙÙˆÙ†Øª Ù…ØªÙ†:</label>
                    <select id="font-select" onchange="changeFont(this.value)">
                        <option value="Vazirmatn">ÙˆØ²ÛŒØ±Ù…ØªÙ†</option>
                        <option value="Sahel">Ø³Ø§Ø­Ù„</option>
                        <option value="Shabnam">Ø´Ø¨Ù†Ù…</option>
                        <option value="Parastoo">Ù¾Ø±Ø³ØªÙˆ</option>
                        <option value="Tanha">ØªÙ†Ù‡Ø§</option>
                        <option value="Gandom">Ú¯Ù†Ø¯Ù…</option>
                    </select>
                </div>
                <div class="setting-option">
                    <label for="theme-select">ØªÙ… Ø±Ù†Ú¯ÛŒ:</label>
                    <select id="theme-select" onchange="changeTheme(this.value)">
                        <option value="default">Ø³Ø¨Ø² (Ù¾ÛŒØ´â€ŒÙØ±Ø¶)</option>
                        <option value="dark">ØªÛŒØ±Ù‡</option>
                        <option value="zombie">Ø²Ø§Ù…Ø¨ÛŒ</option>
                    </select>
                </div>
                <div class="setting-option">
                    <label for="font-size">Ø§Ù†Ø¯Ø§Ø²Ù‡ ÙÙˆÙ†Øª:</label>
                    <input type="range" id="font-size" min="14" max="24" value="18" oninput="changeFontSize(this.value)">
                    <div id="font-size-value">Û±Û¸px</div>
                </div>
                <div class="setting-option">
                    <label for="music-volume">ØµØ¯Ø§ÛŒ Ù…ÙˆØ³ÛŒÙ‚ÛŒ:</label>
                    <input type="range" id="music-volume" min="0" max="100" value="70" oninput="changeVolume(this.value)">
                    <div id="volume-value">Û·Û°Ùª</div>
                </div>
                <div class="setting-option">
                    <label for="language-switch">ØªØºÛŒÛŒØ± Ø²Ø¨Ø§Ù†:</label>
                    <select id="language-switch" onchange="switchLanguage(this.value)">
                        <option value="fa">ÙØ§Ø±Ø³ÛŒ</option>
                        <option value="en">English</option>
                    </select>
                </div>
            </div>
            <div class="navigation">
                <button class="nav-button" onclick="showScreen('main-menu')">
                    <i class="fas fa-home"></i> Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
                </button>
                <button class="nav-button" onclick="resetProgress()">
                    <i class="fas fa-redo"></i> Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ù¾ÛŒØ´Ø±ÙØª
                </button>
            </div>
        </div>

        <!-- Credits Screen -->
        <div id="credits-screen">
            <div class="page-header">
                <h2>Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø¨Ø§Ø²ÛŒ</h2>
            </div>
            <div class="credits-content">
                <h3>Crazy Dave's Ultimate Adventure</h3>
                <p>Ø§ÛŒÙ† ÛŒÚ© Ø¯Ø§Ø³ØªØ§Ù† ØªØ¹Ø§Ù…Ù„ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¯Ù†ÛŒØ§ÛŒ Plants vs. Zombies Ø§Ø³Øª. Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒØŒ Ø´Ù…Ø§ Ù†Ù‚Ø´ ÛŒÚ© Ø´Ù‡Ø±ÙˆÙ†Ø¯ Ù…Ø¹Ù…ÙˆÙ„ÛŒ Ø±Ø§ Ø¨Ø§Ø²ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ø­Ù…Ù„Ù‡ Ø²Ø§Ù…Ø¨ÛŒâ€ŒÙ‡Ø§ Ø§Ø² Ø®Ø§Ù†Ù‡ Ùˆ Ù…Ø­Ù„Ù‡ Ø®ÙˆØ¯ Ø¯ÙØ§Ø¹ Ú©Ù†ÛŒØ¯.</p>
                
                <h3>ØªÙˆØ³Ø¹Ù‡ Ø¯Ù‡Ù†Ø¯Ú¯Ø§Ù†</h3>
                <p>Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ ØªÙˆØ³Ø· ØªÛŒÙ…ÛŒ Ø§Ø² Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯Ø§Ù† Ø¨Ù‡ Plants vs. Zombies ØªÙˆØ³Ø¹Ù‡ ÛŒØ§ÙØªÙ‡ Ø§Ø³Øª.</p>
                
                <h3>Ù…Ù†Ø§Ø¨Ø¹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡</h3>
                <p>Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ø§Ø² ÙÙˆÙ†Øªâ€ŒÙ‡Ø§ÛŒ ÙØ§Ø±Ø³ÛŒ Ø±Ø§ÛŒÚ¯Ø§Ù† Ùˆ Ø§ÛŒÚ©Ù†â€ŒÙ‡Ø§ÛŒ Font Awesome Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</p>
                
                <h3>Ø­Ù‚ÙˆÙ‚ Ù†Ø´Ø±</h3>
                <p>Plants vs. Zombies ÛŒÚ© Ø¹Ù„Ø§Ù…Øª ØªØ¬Ø§Ø±ÛŒ Ø«Ø¨Øª Ø´Ø¯Ù‡ Ø§Ø² Ø´Ø±Ú©Øª PopCap Games Ø§Ø³Øª. Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ ÛŒÚ© Ù¾Ø±ÙˆÚ˜Ù‡ ØºÛŒØ±Ø§Ù†ØªÙØ§Ø¹ÛŒ Ùˆ ØµØ±ÙØ§Ù‹ Ø¨Ø±Ø§ÛŒ Ù…Ù‚Ø§ØµØ¯ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø§Ø³Øª.</p>
                
                <h3>Ù†Ø³Ø®Ù‡ Ø¨Ø§Ø²ÛŒ</h3>
                <p>Ù†Ø³Ø®Ù‡ Û±.Û°.Û° - Ø¨Ù‡Ø§Ø± Û±Û´Û°Û³</p>
            </div>
            <div class="navigation">
                <button class="nav-button" onclick="showScreen('main-menu')">
                    <i class="fas fa-home"></i> Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
                </button>
            </div>
        </div>
    </div>

    <!-- Floating Menu Button -->
    <button class="floating-button" onclick="toggleMenu()">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Particles Background -->
    <div class="particles" id="particles-container"></div>

    <script>
        // Initialize variables
        let currentScreen = 'language-screen';
        let currentPage = 1;
        let playerStats = {
            pagesRead: 5,
            choicesMade: 3,
            zombiesDefeated: 2,
            plantsCollected: 1,
            housesLost: 0,
            progress: 10
        };
        let currentLanguage = 'fa';

        // Create particles for background
        function createParticles() {
            const container = document.getElementById('particles-container');
            const particleCount = 30;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // Random properties
                const size = Math.random() * 20 + 5;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                const delay = Math.random() * 15;
                const duration = Math.random() * 10 + 15;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${posX}%`;
                particle.style.top = `${posY}%`;
                particle.style.animationDelay = `${delay}s`;
                particle.style.animationDuration = `${duration}s`;
                
                container.appendChild(particle);
            }
        }

        // Language selection
        function selectLanguage(lang) {
            currentLanguage = lang;
            document.getElementById('language-screen').style.display = 'none';
            document.getElementById('loading-screen').style.display = 'flex';
            
            // Simulate loading
            setTimeout(() => {
                document.getElementById('loading-screen').style.display = 'none';
                document.getElementById('main-menu').style.display = 'block';
                currentScreen = 'main-menu';
                
                // Apply language
                if (lang === 'en') {
                    document.body.classList.add('english');
                    updateUIText('en');
                } else {
                    document.body.classList.remove('english');
                    updateUIText('fa');
                }
            }, 5000);
        }

        // Update UI text based on language
        function updateUIText(lang) {
            if (lang === 'en') {
                // Update main menu
                document.querySelector('.logo').textContent = "Crazy Dave's Ultimate Adventure";
                document.querySelector('.logo-subtitle').textContent = "A Plants vs. Zombies Interactive Story";
                
                const menuButtons = document.querySelectorAll('.menu-button');
                menuButtons[0].innerHTML = '<i class="fas fa-book"></i> Start Adventure';
                menuButtons[1].innerHTML = '<i class="fas fa-list"></i> Table of Contents';
                menuButtons[2].innerHTML = '<i class="fas fa-chart-bar"></i> Stats & Achievements';
                menuButtons[3].innerHTML = '<i class="fas fa-cog"></i> Settings';
                menuButtons[4].innerHTML = '<i class="fas fa-info-circle"></i> About';
                
                // Update story screen
                document.querySelector('#story-screen .page-header h2').textContent = "Dave's Adventure Begins!";
                document.querySelector('#story-screen .page-content p').innerHTML = `
                    <p>It's a beautiful Sunday morning. You're sitting in your garden, sipping a warm cup of coffee. The birds are singing, and the sun is slowly rising. Suddenly, you hear a strange noise from afar. A sound like a groan... or maybe a whisper?</p>
                    <p>Your neighbor, Crazy Dave, comes running towards you. His hair is messy and his eyes are bulging. "Zombies! Zombies are coming!" he shouts.</p>
                    <p>At first, you think maybe Dave has had too much coffee again, but then you see the first zombie appearing from behind the garden fence. It seems something is really happening!</p>
                `;
                
                const choiceButtons = document.querySelectorAll('.choice-button');
                choiceButtons[0].innerHTML = '<i class="fas fa-seedling"></i> Help Dave and prepare the plants';
                choiceButtons[1].innerHTML = '<i class="fas fa-home"></i> Hide in the house and wait';
                choiceButtons[2].innerHTML = '<i class="fas fa-car"></i> Try to escape by car';
                
                document.querySelector('#story-screen .page-number').textContent = "Page 1";
                
                const navButtons = document.querySelectorAll('.nav-button');
                navButtons[0].innerHTML = '<i class="fas fa-arrow-left"></i> Previous Page';
                navButtons[1].innerHTML = 'Next Page <i class="fas fa-arrow-right"></i>';
                
                // Update TOC screen
                document.querySelector('#toc-screen .page-header h2').textContent = "Table of Contents";
                
                const tocItems = document.querySelectorAll('.toc-item');
                tocItems[0].innerHTML = '<i class="fas fa-seedling"></i> Chapter 1: The Zombie Attack Begins';
                tocItems[1].innerHTML = '<i class="fas fa-sun"></i> Chapter 2: Gathering Plants';
                tocItems[2].innerHTML = '<i class="fas fa-shield-alt"></i> Chapter 3: The First Battle';
                tocItems[3].innerHTML = '<i class="fas fa-home"></i> Chapter 4: Defending the House';
                tocItems[4].innerHTML = '<i class="fas fa-bolt"></i> Chapter 5: The Final Attack';
                tocItems[5].innerHTML = '<i class="fas fa-trophy"></i> Chapter 6: The End of the Adventure';
                
                document.querySelector('#toc-screen .nav-button').innerHTML = '<i class="fas fa-home"></i> Return to Main Menu';
                
                // Update Stats screen
                document.querySelector('#stats-screen .page-header h2').textContent = "Stats & Achievements";
                
                const statLabels = document.querySelectorAll('.stat-label');
                statLabels[0].textContent = "Pages Read";
                statLabels[1].textContent = "Choices Made";
                statLabels[2].textContent = "Zombies Defeated";
                statLabels[3].textContent = "Plants Collected";
                statLabels[4].textContent = "Houses Lost";
                statLabels[5].textContent = "Overall Progress";
                
                document.querySelector('#stats-screen .page-content h3').textContent = "Your Achievements";
                
                const achievementItems = document.querySelectorAll('#stats-screen .toc-item');
                achievementItems[0].innerHTML = '<i class="fas fa-trophy" style="color: gold;"></i> Adventure Starter - You started the game';
                achievementItems[1].innerHTML = '<i class="fas fa-seedling" style="color: green;"></i> Plant Friend - You cooperated with Dave';
                achievementItems[2].innerHTML = '<i class="fas fa-shield-alt"></i> Garden Defender - Defeat 10 zombies';
                achievementItems[3].innerHTML = '<i class="fas fa-crown"></i> Ultimate Hero - Complete the game';
                
                document.querySelector('#stats-screen .nav-button').innerHTML = '<i class="fas fa-home"></i> Return to Main Menu';
                
                // Update Settings screen
                document.querySelector('#settings-screen .page-header h2').textContent = "Settings";
                
                const settingLabels = document.querySelectorAll('.setting-option label');
                settingLabels[0].textContent = "Text Font:";
                settingLabels[1].textContent = "Color Theme:";
                settingLabels[2].textContent = "Font Size:";
                settingLabels[3].textContent = "Music Volume:";
                settingLabels[4].textContent = "Change Language:";
                
                document.querySelector('#font-size-value').textContent = "18px";
                document.querySelector('#volume-value').textContent = "70%";
                
                const settingNavButtons = document.querySelectorAll('#settings-screen .nav-button');
                settingNavButtons[0].innerHTML = '<i class="fas fa-home"></i> Return to Main Menu';
                settingNavButtons[1].innerHTML = '<i class="fas fa-redo"></i> Reset Progress';
                
                // Update Credits screen
                document.querySelector('#credits-screen .page-header h2').textContent = "About the Game";
                
                const creditsContent = document.querySelector('.credits-content');
                creditsContent.innerHTML = `
                    <h3>Crazy Dave's Ultimate Adventure</h3>
                    <p>This is an interactive story based on the Plants vs. Zombies universe. In this game, you play the role of an ordinary citizen who must defend their home and neighborhood against a zombie invasion.</p>
                    
                    <h3>Developers</h3>
                    <p>This game was developed by a team of Plants vs. Zombies enthusiasts.</p>
                    
                    <h3>Resources Used</h3>
                    <p>This game uses free Persian fonts and Font Awesome icons.</p>
                    
                    <h3>Copyright</h3>
                    <p>Plants vs. Zombies is a registered trademark of PopCap Games. This project is a non-profit project for educational purposes only.</p>
                    
                    <h3>Game Version</h3>
                    <p>Version 1.0.0 - Spring 2024</p>
                `;
                
                document.querySelector('#credits-screen .nav-button').innerHTML = '<i class="fas fa-home"></i> Return to Main Menu';
            }
        }

        // Show specific screen
        function showScreen(screenId) {
            document.getElementById(currentScreen).style.display = 'none';
            document.getElementById(screenId).style.display = 'block';
            currentScreen = screenId;
        }

        // Toggle menu (for floating button)
        function toggleMenu() {
            showScreen('main-menu');
        }

        // Make a choice in the story
        function makeChoice(choice) {
            alert(`You selected choice ${choice}. This would advance the story in a full implementation.`);
            // In a full implementation, this would change the story based on the choice
        }

        // Navigate to next page
        function nextPage() {
            currentPage++;
            alert(`Moving to page ${currentPage}. This would load new content in a full implementation.`);
            // In a full implementation, this would load the next page of the story
        }

        // Navigate to previous page
        function previousPage() {
            if (currentPage > 1) {
                currentPage--;
                alert(`Moving to page ${currentPage}. This would load previous content in a full implementation.`);
                // In a full implementation, this would load the previous page of the story
            }
        }

        // Go to specific chapter
        function goToChapter(chapter) {
            currentPage = chapter;
            showScreen('story-screen');
            alert(`Moving to chapter ${chapter}. This would load chapter content in a full implementation.`);
            // In a full implementation, this would load the specific chapter
        }

        // Change font
        function changeFont(font) {
            document.documentElement.style.setProperty('--font-main', font);
        }

        // Change theme
        function changeTheme(theme) {
            document.body.className = '';
            if (theme !== 'default') {
                document.body.classList.add(`theme-${theme}`);
            }
        }

        // Change font size
        function changeFontSize(size) {
            document.documentElement.style.setProperty('--font-size-base', `${size}px`);
            document.getElementById('font-size-value').textContent = `${size}px`;
        }

        // Change volume
        function changeVolume(volume) {
            document.getElementById('volume-value').textContent = `${volume}%`;
        }

        // Switch language
        function switchLanguage(lang) {
            if (lang !== currentLanguage) {
                selectLanguage(lang);
            }
        }

        // Reset progress
        function resetProgress() {
            if (confirm(currentLanguage === 'fa' ? 'Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ù¾ÛŒØ´Ø±ÙØª Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ú©Ù†ÛŒØ¯ØŸ' : 'Are you sure you want to reset your progress?')) {
                playerStats = {
                    pagesRead: 0,
                    choicesMade: 0,
                    zombiesDefeated: 0,
                    plantsCollected: 0,
                    housesLost: 0,
                    progress: 0
                };
                currentPage = 1;
                alert(currentLanguage === 'fa' ? 'Ù¾ÛŒØ´Ø±ÙØª Ø´Ù…Ø§ Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø´Ø¯.' : 'Your progress has been reset.');
            }
        }

        // Initialize the game
        window.onload = function() {
            createParticles();
            
            // Simulate loading progress
            const loadingBar = document.querySelector('.loading-bar');
            const zombieHead = document.querySelector('.zombie-head');
            let progress = 0;
            const interval = setInterval(() => {
                progress += 1;
                loadingBar.style.width = `${progress}%`;
                zombieHead.style.left = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(interval);
                }
            }, 50);
        };
    </script>
</body>
</html>