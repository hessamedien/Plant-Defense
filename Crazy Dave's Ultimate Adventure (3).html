<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crazy Dave's Ultimate Adventure - Ù†Ø³Ø®Ù‡ Ú©Ø§Ù…Ù„</title>
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/sahel-font@v3.4.0/dist/font-face.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/shabnam-font@v5.0.1/dist/font-face.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/parastoo-font@v1.0.3/dist/font-face.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/tanha-font@v0.10/dist/font-face.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/gandom-font@v0.5.1/dist/font-face.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #8BC34A;
            --secondary-color: #FF9800;
            --accent-color: #4CAF50;
            --text-color: #333;
            --bg-color: #f5f5f5;
            --card-bg: #ffffff;
            --header-height: 60px;
            --footer-height: 40px;
            --font-main: 'Vazirmatn', 'Sahel', sans-serif;
            --font-title: 'Gandom', 'Vazirmatn', sans-serif;
            --lawn-green: #87C159;
            --lawn-dark-green: #6B9E3F;
            --sun-yellow: #FFEB3B;
            --pea-green: #4CAF50;
            --zombie-green: #5D8C5D;
            --shadow-light: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-medium: 0 8px 15px rgba(0, 0, 0, 0.15);
            --shadow-heavy: 0 12px 25px rgba(0, 0, 0, 0.2);
            --transition-fast: 0.3s ease;
            --transition-medium: 0.5s ease;
            --transition-slow: 0.8s ease;
            --font-size-base: 18px;
        }

        .theme-dark {
            --primary-color: #689F38;
            --secondary-color: #FF5722;
            --accent-color: #388E3C;
            --text-color: #f5f5f5;
            --bg-color: #2E2E2E;
            --card-bg: #424242;
            --lawn-green: #5A7D3C;
            --lawn-dark-green: #4A6531;
        }

        .theme-zombie {
            --primary-color: #795548;
            --secondary-color: #FF5722;
            --accent-color: #5D4037;
            --text-color: #f5f5f5;
            --bg-color: #3E2723;
            --card-bg: #5D4037;
            --lawn-green: #5D4037;
            --lawn-dark-green: #4E342E;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: all var(--transition-medium);
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(135, 193, 89, 0.2) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(255, 152, 0, 0.2) 0%, transparent 20%),
                radial-gradient(circle at 50% 50%, rgba(76, 175, 80, 0.1) 0%, transparent 30%);
            background-size: 300px 300px, 400px 400px, 500px 500px;
            background-attachment: fixed;
            font-size: var(--font-size-base);
        }

        body.english {
            direction: ltr;
            text-align: left;
        }

        /* Particle Background */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, var(--sun-yellow) 0%, transparent 70%);
            opacity: 0.6;
            animation: float-particle 15s infinite linear;
        }

        @keyframes float-particle {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0.7;
            }
            50% {
                opacity: 0.3;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0.7;
            }
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 1;
        }

        /* Language Selection Screen */
        #language-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(135deg, var(--lawn-green) 0%, var(--accent-color) 100%),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%2387C159"/><path d="M0 0L100 100M100 0L0 100" stroke="%236B9E3F" stroke-width="2"/></svg>');
            background-size: 200px 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            color: white;
            overflow: hidden;
        }

        .language-title {
            font-family: var(--font-title);
            font-size: 3.5rem;
            margin-bottom: 40px;
            text-shadow: 3px 3px 0 #000, 5px 5px 0 rgba(0,0,0,0.3);
            text-align: center;
            animation: title-glow 2s infinite alternate;
        }

        @keyframes title-glow {
            from {
                text-shadow: 3px 3px 0 #000, 5px 5px 0 rgba(0,0,0,0.3);
            }
            to {
                text-shadow: 3px 3px 0 #000, 5px 5px 0 rgba(0,0,0,0.3), 0 0 15px var(--sun-yellow);
            }
        }

        .language-options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            max-width: 800px;
        }

        .language-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            cursor: pointer;
            transition: all var(--transition-fast);
            width: 320px;
            text-align: center;
            box-shadow: var(--shadow-heavy);
            position: relative;
            overflow: hidden;
            border: 5px solid transparent;
        }

        .language-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
            opacity: 0;
            transition: opacity var(--transition-fast);
            z-index: -1;
        }

        .language-option:hover {
            transform: translateY(-15px) scale(1.05);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: var(--sun-yellow);
        }

        .language-option:hover::before {
            opacity: 0.1;
        }

        .language-flag {
            font-size: 5rem;
            margin-bottom: 20px;
            filter: drop-shadow(2px 2px 0 #000);
            transition: transform var(--transition-fast);
        }

        .language-option:hover .language-flag {
            transform: scale(1.2) rotate(5deg);
        }

        .language-name {
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--text-color);
            margin-bottom: 15px;
            font-family: var(--font-title);
        }

        .language-desc {
            font-size: 1.3rem;
            color: var(--text-color);
            opacity: 0.9;
        }

        /* Loading Screen */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(135deg, var(--lawn-green) 0%, var(--accent-color) 100%),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%2387C159"/><path d="M0 0L100 100M100 0L0 100" stroke="%236B9E3F" stroke-width="2"/></svg>');
            background-size: 200px 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            color: white;
        }

        .lawn-stripes {
            position: absolute;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(255,255,255,0.1) 10px,
                rgba(255,255,255,0.1) 20px
            );
        }

        #loading-screen h1 {
            font-family: var(--font-title);
            font-size: 4rem;
            margin-bottom: 15px;
            text-shadow: 4px 4px 0 #000, 6px 6px 0 rgba(0,0,0,0.3);
            animation: bounce 2s infinite;
            color: var(--sun-yellow);
            text-align: center;
        }

        #loading-screen h2 {
            font-size: 2rem;
            animation: fadeInOut 2s infinite;
            margin-bottom: 40px;
            text-align: center;
            max-width: 80%;
            text-shadow: 2px 2px 0 #000;
        }

        .loading-bar-container {
            width: 500px;
            height: 35px;
            background-color: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            margin-top: 30px;
            overflow: hidden;
            border: 3px solid #000;
            position: relative;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
        }

        .loading-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--sun-yellow), var(--secondary-color), var(--sun-yellow));
            border-radius: 20px;
            animation: loading 5s forwards;
            position: relative;
            overflow: hidden;
            background-size: 200% 100%;
            animation: loading 5s forwards, gradient-shift 3s infinite;
        }

        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .loading-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent);
            animation: shine 1.5s infinite;
        }

        .zombie-head {
            position: absolute;
            width: 50px;
            height: 50px;
            background-color: var(--zombie-green);
            border-radius: 50%;
            top: -7px;
            left: 0;
            transform: translateX(-50%);
            transition: left 5s linear;
            z-index: 2;
            border: 3px solid #000;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }

        .zombie-head::before, .zombie-head::after {
            content: '';
            position: absolute;
            width: 12px;
            height: 12px;
            background-color: #000;
            border-radius: 50%;
            top: 15px;
        }

        .zombie-head::before {
            left: 10px;
        }

        .zombie-head::after {
            right: 10px;
        }

        .zombie-mouth {
            position: absolute;
            width: 25px;
            height: 10px;
            background-color: #000;
            border-radius: 0 0 12px 12px;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .loading-plants {
            display: flex;
            justify-content: space-between;
            width: 500px;
            margin-top: 20px;
        }

        .loading-plant {
            font-size: 2.5rem;
            opacity: 0;
            animation: plant-appear 0.5s forwards;
        }

        @keyframes plant-appear {
            to { opacity: 1; }
        }

        @keyframes loading {
            0% { width: 0%; }
            100% { width: 100%; }
        }

        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-25px); }
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        /* Main Menu */
        #main-menu {
            text-align: center;
            padding: 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            box-shadow: var(--shadow-heavy);
            margin-top: 20px;
            border: 8px solid var(--lawn-dark-green);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        #main-menu::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(255, 235, 59, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(76, 175, 80, 0.1) 0%, transparent 50%);
            z-index: 0;
        }

        .logo {
            font-family: var(--font-title);
            font-size: 5.5rem;
            color: var(--secondary-color);
            text-shadow: 5px 5px 0 #000, 8px 8px 0 rgba(0,0,0,0.3);
            margin-bottom: 30px;
            animation: glow 2s infinite alternate, float 6s infinite ease-in-out;
            position: relative;
            z-index: 1;
            letter-spacing: 3px;
        }

        .logo-subtitle {
            font-family: var(--font-main);
            font-size: 1.8rem;
            color: var(--text-color);
            margin-top: -20px;
            margin-bottom: 50px;
            text-shadow: 1px 1px 0 #FFF;
            position: relative;
            z-index: 1;
        }

        @keyframes glow {
            from { 
                text-shadow: 5px 5px 0 #000, 8px 8px 0 rgba(0,0,0,0.3), 0 0 10px var(--sun-yellow); 
            }
            to { 
                text-shadow: 5px 5px 0 #000, 8px 8px 0 rgba(0,0,0,0.3), 0 0 25px var(--sun-yellow), 0 0 40px var(--secondary-color); 
            }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .menu-buttons {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            position: relative;
            z-index: 1;
        }

        .menu-button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 85%;
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            border: none;
            border-radius: 18px;
            font-family: var(--font-main);
            font-size: 1.4rem;
            cursor: pointer;
            transition: all var(--transition-fast);
            box-shadow: 0 8px 0 var(--lawn-dark-green), var(--shadow-medium);
            position: relative;
            z-index: 1;
            text-shadow: 1px 1px 1px rgba(0,0,0,0.3);
            overflow: hidden;
            gap: 10px;
        }

        .menu-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.7s;
        }

        .menu-button:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 0 var(--lawn-dark-green), 0 20px 25px rgba(0,0,0,0.3);
        }

        .menu-button:hover::before {
            left: 100%;
        }

        .menu-button:active {
            transform: translateY(0);
            box-shadow: 0 4px 0 var(--lawn-dark-green), 0 8px 15px rgba(0,0,0,0.2);
        }

        .menu-button i {
            font-size: 1.6rem;
        }

        /* Story Screen */
        #story-screen {
            display: none;
        }

        .lawn-background {
            background-color: var(--lawn-green);
            border-radius: 25px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--shadow-heavy);
            position: relative;
            min-height: 600px;
            border: 8px solid var(--lawn-dark-green);
            overflow: hidden;
        }

        .lawn-background::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 19px,
                    rgba(0,0,0,0.05) 19px,
                    rgba(0,0,0,0.05) 20px
                ),
                repeating-linear-gradient(
                    90deg,
                    transparent,
                    transparent 19px,
                    rgba(0,0,0,0.05) 19px,
                    rgba(0,0,0,0.05) 20px
                );
            pointer-events: none;
        }

        .page-header {
            text-align: center;
            border-bottom: 4px solid var(--primary-color);
            padding-bottom: 20px;
            margin-bottom: 30px;
            position: relative;
        }

        .page-header h2 {
            font-family: var(--font-title);
            font-size: 2.5rem;
            color: var(--secondary-color);
            text-shadow: 3px 3px 0 #000;
            letter-spacing: 1.5px;
        }

        .page-content {
            background-color: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 25px;
            box-shadow: var(--shadow-light);
            border: 3px solid var(--accent-color);
            font-size: 1.2rem;
            line-height: 1.7;
            position: relative;
            z-index: 1;
            backdrop-filter: blur(5px);
        }

        .page-number {
            position: absolute;
            bottom: 20px;
            right: 30px;
            font-size: 1rem;
            color: var(--text-color);
            opacity: 0.7;
            background: rgba(255,255,255,0.8);
            padding: 8px 15px;
            border-radius: 15px;
            z-index: 2;
            box-shadow: var(--shadow-light);
        }

        body.english .page-number {
            right: auto;
            left: 30px;
        }

        .character-image {
            float: right;
            margin-left: 25px;
            margin-bottom: 15px;
            width: 140px;
            height: 140px;
            border-radius: 15px;
            border: 4px solid var(--secondary-color);
            background-color: var(--card-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            box-shadow: var(--shadow-medium);
            animation: character-float 5s infinite ease-in-out;
        }

        @keyframes character-float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        body.english .character-image {
            float: left;
            margin-left: 0;
            margin-right: 25px;
        }

        .choices {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 35px;
        }

        .choice-button {
            padding: 18px;
            background: linear-gradient(135deg, var(--secondary-color), #E65100);
            color: white;
            border: none;
            border-radius: 15px;
            font-family: var(--font-main);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all var(--transition-fast);
            text-align: right;
            box-shadow: 0 5px 0 #B71C1C, var(--shadow-light);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        body.english .choice-button {
            text-align: left;
        }

        .choice-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.7s;
        }

        .choice-button:hover {
            transform: translateX(-12px);
            box-shadow: 0 7px 0 #B71C1C, 0 10px 20px rgba(0,0,0,0.2);
        }

        body.english .choice-button:hover {
            transform: translateX(12px);
        }

        .choice-button:hover::before {
            left: 100%;
        }

        .choice-button i {
            font-size: 1.4rem;
        }

        /* Navigation */
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }

        .nav-button {
            padding: 15px 30px;
            background: linear-gradient(135deg, var(--accent-color), var(--primary-color));
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-family: var(--font-main);
            font-size: 1.2rem;
            box-shadow: 0 5px 0 var(--lawn-dark-green), var(--shadow-light);
            transition: all var(--transition-fast);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 0 var(--lawn-dark-green), 0 12px 20px rgba(0,0,0,0.2);
        }

        .nav-button:active {
            transform: translateY(0);
            box-shadow: 0 3px 0 var(--lawn-dark-green), 0 6px 10px rgba(0,0,0,0.15);
        }

        /* Settings */
        #settings-screen {
            display: none;
        }

        .setting-option {
            margin-bottom: 25px;
            background: rgba(255,255,255,0.8);
            padding: 20px;
            border-radius: 15px;
            box-shadow: var(--shadow-light);
            border: 2px solid var(--primary-color);
        }

        .setting-option label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .setting-option select, .setting-option input {
            width: 100%;
            padding: 12px;
            border-radius: 10px;
            border: 2px solid var(--primary-color);
            font-family: var(--font-main);
            font-size: 1.1rem;
            background: white;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }

        .setting-option input[type="range"] {
            -webkit-appearance: none;
            height: 18px;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            border-radius: 12px;
            outline: none;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.2);
        }

        .setting-option input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 28px;
            height: 28px;
            background: var(--secondary-color);
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid #000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        /* Floating Button */
        .floating-button {
            position: fixed;
            bottom: 25px;
            right: 25px;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary-color), #E65100);
            color: white;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            box-shadow: var(--shadow-heavy);
            z-index: 100;
            transition: all var(--transition-fast);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        body.english .floating-button {
            right: auto;
            left: 25px;
        }

        .floating-button:hover {
            transform: scale(1.15) rotate(-15deg);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
        }

        body.english .floating-button:hover {
            transform: scale(1.15) rotate(15deg);
        }

        /* Credits Screen */
        #credits-screen {
            display: none;
            text-align: center;
        }

        .credits-content {
            max-height: 70vh;
            overflow-y: auto;
            padding: 30px;
            background-color: var(--card-bg);
            border-radius: 20px;
            margin-bottom: 25px;
            box-shadow: var(--shadow-medium);
            border: 4px solid var(--primary-color);
            text-align: right;
            backdrop-filter: blur(5px);
        }

        body.english .credits-content {
            text-align: left;
        }

        .credits-content h3 {
            color: var(--secondary-color);
            text-align: center;
            margin-bottom: 25px;
            font-family: var(--font-title);
            font-size: 2.2rem;
            text-shadow: 2px 2px 0 #000;
        }

        .credits-content p {
            margin-bottom: 20px;
            line-height: 1.7;
        }

        .credits-content a {
            color: var(--accent-color);
            text-decoration: none;
            font-weight: bold;
            transition: color var(--transition-fast);
        }

        .credits-content a:hover {
            color: var(--secondary-color);
            text-decoration: underline;
        }

        /* Table of Contents */
        #toc-screen {
            display: none;
        }

        .toc-item {
            padding: 18px;
            border-bottom: 3px solid var(--primary-color);
            cursor: pointer;
            transition: all var(--transition-fast);
            font-size: 1.2rem;
            background: rgba(255,255,255,0.8);
            margin-bottom: 8px;
            border-radius: 12px;
            box-shadow: var(--shadow-light);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toc-item:hover {
            background-color: var(--primary-color);
            color: white;
            transform: translateX(-12px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }

        body.english .toc-item:hover {
            transform: translateX(12px);
        }

        .toc-item i {
            font-size: 1.4rem;
        }

        /* Stats Screen */
        #stats-screen {
            display: none;
        }

        .stats-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            margin-bottom: 25px;
            background: rgba(255,255,255,0.85);
            padding: 20px;
            border-radius: 20px;
            border: 3px solid var(--accent-color);
            box-shadow: var(--shadow-light);
        }

        .stat-item {
            text-align: center;
            margin: 15px;
            flex: 1 0 30%;
            min-width: 170px;
            padding: 15px;
            background: rgba(255,255,255,0.7);
            border-radius: 15px;
            box-shadow: var(--shadow-light);
            border: 2px solid var(--primary-color);
        }

        .stat-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--secondary-color);
            text-shadow: 1px 1px 0 #000;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-color);
            margin-top: 5px;
        }

        /* Plant and Zombie Animations */
        .sun {
            position: absolute;
            width: 70px;
            height: 70px;
            background: radial-gradient(circle, var(--sun-yellow) 40%, #FFC107);
            border-radius: 50%;
            box-shadow: 0 0 25px var(--sun-yellow);
            animation: float 10s infinite ease-in-out;
            z-index: 0;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-25px) rotate(180deg); }
        }

        .pea {
            position: absolute;
            width: 18px;
            height: 18px;
            background-color: var(--pea-green);
            border-radius: 50%;
            z-index: 1;
            box-shadow: 0 0 5px rgba(0,0,0,0.3);
        }

        /* Ending Screen */
        .ending-message {
            text-align: center;
            padding: 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            margin: 25px 0;
            border: 4px solid var(--secondary-color);
            box-shadow: var(--shadow-medium);
        }

        .ending-title {
            font-family: var(--font-title);
            font-size: 3rem;
            color: var(--secondary-color);
            text-shadow: 3px 3px 0 #000;
            margin-bottom: 20px;
        }

        .ending-subtitle {
            font-size: 1.5rem;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        /* Mini-games */
        .mini-game-container {
            background: rgba(255,255,255,0.9);
            padding: 20px;
            border-radius: 20px;
            margin: 25px 0;
            border: 4px solid var(--primary-color);
            box-shadow: var(--shadow-heavy);
        }

        .game-title {
            text-align: center;
            font-family: var(--font-title);
            font-size: 2rem;
            color: var(--secondary-color);
            margin-bottom: 20px;
            text-shadow: 2px 2px 0 #000;
        }

        .game-instructions {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.2rem;
            line-height: 1.6;
        }

        .game-area {
            background: var(--lawn-green);
            border-radius: 15px;
            padding: 20px;
            min-height: 300px;
            position: relative;
            overflow: hidden;
            border: 4px solid var(--lawn-dark-green);
        }

        /* Achievements */
        .achievement-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .achievement {
            background: rgba(255,255,255,0.9);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: var(--shadow-light);
            border: 3px solid var(--primary-color);
            transition: all var(--transition-fast);
        }

        .achievement.locked {
            opacity: 0.6;
            filter: grayscale(1);
        }

        .achievement.unlocked {
            border-color: var(--secondary-color);
            transform: scale(1.05);
        }

        .achievement-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .achievement-title {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .achievement-desc {
            font-size: 0.9rem;
            color: var(--text-color);
            opacity: 0.8;
        }

        /* Media Queries */
        @media (max-width: 768px) {
            .logo {
                font-size: 3.5rem;
            }
            
            .language-option {
                width: 100%;
                max-width: 300px;
            }
            
            .loading-bar-container {
                width: 90%;
            }
            
            .loading-plants {
                width: 90%;
            }
            
            .menu-button {
                width: 95%;
            }
            
            .character-image {
                float: none;
                margin: 0 auto 20px;
                display: block;
            }
            
            .stats-container {
                flex-direction: column;
            }
            
            .stat-item {
                flex: 1 0 100%;
            }
        }

        @media (max-width: 480px) {
            .logo {
                font-size: 2.8rem;
            }
            
            .language-title {
                font-size: 2.5rem;
            }
            
            .language-option {
                padding: 20px 15px;
            }
            
            .language-flag {
                font-size: 3.5rem;
            }
            
            .language-name {
                font-size: 1.8rem;
            }
            
            .page-header h2 {
                font-size: 2rem;
            }
            
            .page-content {
                padding: 15px;
            }
            
            .nav-button {
                padding: 12px 20px;
                font-size: 1rem;
            }
        }

        /* Print Styles */
        @media print {
            .floating-button, .nav-button {
                display: none;
            }
            
            body {
                background: white;
                color: black;
            }
            
            .lawn-background {
                background: white;
                border: 1px solid black;
            }
            
            .page-content {
                background: white;
                box-shadow: none;
                border: 1px solid black;
            }
        }

        /* High Contrast Mode */
        .high-contrast {
            --primary-color: #000000;
            --secondary-color: #FFFFFF;
            --accent-color: #FFFF00;
            --text-color: #FFFFFF;
            --bg-color: #000000;
            --card-bg: #222222;
            --lawn-green: #003300;
            --lawn-dark-green: #001100;
            --sun-yellow: #FFFF00;
            --pea-green: #00FF00;
            --zombie-green: #004400;
        }

        /* Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <!-- Particle Background -->
    <div class="particles" id="particles"></div>

    <!-- Language Selection Screen -->
    <div id="language-screen">
        <h1 class="language-title">Crazy Dave's Ultimate Adventure</h1>
        <div class="language-options">
            <div class="language-option" onclick="selectLanguage('fa')">
                <div class="language-flag">ğŸ‡®ğŸ‡·</div>
                <div class="language-name">ÙØ§Ø±Ø³ÛŒ</div>
                <div class="language-desc">Ù†Ø³Ø®Ù‡ ÙØ§Ø±Ø³ÛŒ Ø¨Ø§Ø²ÛŒ</div>
            </div>
            <div class="language-option" onclick="selectLanguage('en')">
                <div class="language-flag">ğŸ‡ºğŸ‡¸</div>
                <div class="language-name">English</div>
                <div class="language-desc">English version of the game</div>
            </div>
        </div>
    </div>

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="lawn-stripes"></div>
        <h1>Crazy Dave's Ultimate Adventure</h1>
        <h2 id="loading-text">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¨Ø§Ø²ÛŒ...</h2>
        <div class="loading-bar-container">
            <div class="loading-bar"></div>
            <div class="zombie-head" id="zombie-head"></div>
        </div>
        <div class="loading-plants">
            <div class="loading-plant" style="animation-delay: 0.5s">ğŸŒ»</div>
            <div class="loading-plant" style="animation-delay: 1s">ğŸŒ±</div>
            <div class="loading-plant" style="animation-delay: 1.5s">ğŸ¥¬</div>
            <div class="loading-plant" style="animation-delay: 2s">ğŸŒ¿</div>
            <div class="loading-plant" style="animation-delay: 2.5s">ğŸƒ</div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container" id="container" style="display: none;">
        <!-- Main Menu Screen -->
        <div id="main-menu">
            <div class="logo">Crazy Dave's Ultimate Adventure</div>
            <div class="logo-subtitle" id="subtitle">Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒÛŒ Ø¯ÛŒÙˆØ§Ù†Ù‡ ÙˆØ§Ø± Ø¯ÛŒÙˆ Ø¯Ø± Ø¨Ø§ØºÚ†Ù‡!</div>
            
            <div class="menu-buttons">
                <button class="menu-button" onclick="showScreen('story-screen')">
                    <i class="fas fa-book"></i>
                    <span id="start-game">Ø´Ø±ÙˆØ¹ Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒÛŒ</span>
                </button>
                <button class="menu-button" onclick="showScreen('toc-screen')">
                    <i class="fas fa-list"></i>
                    <span id="table-contents">ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨</span>
                </button>
                <button class="menu-button" onclick="showScreen('stats-screen')">
                    <i class="fas fa-chart-bar"></i>
                    <span id="stats">Ø¢Ù…Ø§Ø± Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª</span>
                </button>
                <button class="menu-button" onclick="showScreen('settings-screen')">
                    <i class="fas fa-cog"></i>
                    <span id="settings">ØªÙ†Ø¸ÛŒÙ…Ø§Øª</span>
                </button>
                <button class="menu-button" onclick="showScreen('credits-screen')">
                    <i class="fas fa-info-circle"></i>
                    <span id="credits">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø¨Ø§Ø²ÛŒ</span>
                </button>
            </div>
        </div>

        <!-- Story Screen -->
        <div id="story-screen">
            <div class="lawn-background">
                <div class="sun" style="top: 50px; right: 100px;"></div>
                <div class="sun" style="top: 200px; left: 150px;"></div>
                
                <div class="page-header">
                    <h2 id="page-title">Ø´Ø±ÙˆØ¹ Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒÛŒ</h2>
                </div>
                
                <div class="page-content">
                    <div class="character-image">ğŸŒ»</div>
                    <p id="page-text">Ø¯ÛŒÙˆ Ø¯ÛŒÙˆØ§Ù†Ù‡ Ø§Ø² Ø®ÙˆØ§Ø¨ Ø¨ÛŒØ¯Ø§Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ù…ØªÙˆØ¬Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ú©Ù‡ Ø²Ø§Ù…Ø¨ÛŒâ€ŒÙ‡Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¨Ù‡ Ø¨Ø§ØºÚ†Ù‡â€ŒØ§Ø´ Ø­Ù…Ù„Ù‡ Ú©Ø±Ø¯Ù‡â€ŒØ§Ù†Ø¯! Ø§Ùˆ Ø¨Ø§ÛŒØ¯ Ø³Ø±ÛŒØ¹ Ø¹Ù…Ù„ Ú©Ù†Ø¯ Ùˆ Ú¯ÛŒØ§Ù‡Ø§Ù†Ø´ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø¯ÙØ§Ø¹ Ø§Ø² Ø®Ø§Ù†Ù‡â€ŒØ§Ø´ Ø³Ø§Ø²Ù…Ø§Ù†Ø¯Ù‡ÛŒ Ú©Ù†Ø¯. Ø§Ù…Ø§ Ø§ÛŒÙ† Ø¨Ø§Ø±ØŒ Ú†ÛŒØ²ÛŒ Ù…ØªÙØ§ÙˆØª Ø§Ø³Øª - Ø²Ø§Ù…Ø¨ÛŒâ€ŒÙ‡Ø§ Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ØªØ± Ùˆ Ø¨Ø§Ù‡ÙˆØ´â€ŒØªØ± Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒâ€ŒØ±Ø³Ù†Ø¯. Ø¢ÛŒØ§ Ø¯ÛŒÙˆ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø§Ø² Ø¨Ø§ØºÚ†Ù‡â€ŒØ§Ø´ Ø¯ÙØ§Ø¹ Ú©Ù†Ø¯ Ùˆ Ø±Ø§Ø² Ø§ÛŒÙ† Ø­Ù…Ù„Ù‡ Ø±Ø§ Ú©Ø´Ù Ú©Ù†Ø¯ØŸ</p>
                    
                    <div class="choices" id="choices-container">
                        <!-- Choices will be dynamically added here -->
                    </div>
                </div>
                
                <div class="page-number" id="page-number">ØµÙØ­Ù‡ 1 Ø§Ø² 25</div>
                
                <div class="navigation">
                    <button class="nav-button" onclick="previousPage()">
                        <i class="fas fa-arrow-right"></i>
                        <span id="prev-btn">Ù‚Ø¨Ù„ÛŒ</span>
                    </button>
                    <button class="nav-button" onclick="nextPage()">
                        <span id="next-btn">Ø¨Ø¹Ø¯ÛŒ</span>
                        <i class="fas fa-arrow-left"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Table of Contents Screen -->
        <div id="toc-screen">
            <div class="lawn-background">
                <div class="page-header">
                    <h2 id="toc-title">ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨</h2>
                </div>
                
                <div class="page-content">
                    <div class="toc-item" onclick="goToPage(1)">
                        <i class="fas fa-seedling"></i>
                        <span>ÙØµÙ„ 1: Ø¨ÛŒØ¯Ø§Ø±ÛŒ Ø¯ÛŒÙˆØ§Ù†Ù‡</span>
                    </div>
                    <div class="toc-item" onclick="goToPage(5)">
                        <i class="fas fa-shield-alt"></i>
                        <span>ÙØµÙ„ 2: Ø¯ÙØ§Ø¹ Ø§Ø² Ø¨Ø§ØºÚ†Ù‡</span>
                    </div>
                    <div class="toc-item" onclick="goToPage(10)">
                        <i class="fas fa-search"></i>
                        <span>ÙØµÙ„ 3: Ú©Ø´Ù Ø±Ø§Ø²</span>
                    </div>
                    <div class="toc-item" onclick="goToPage(15)">
                        <i class="fas fa-bolt"></i>
                        <span>ÙØµÙ„ 4: Ù†Ø¨Ø±Ø¯ Ù†Ù‡Ø§ÛŒÛŒ</span>
                    </div>
                    <div class="toc-item" onclick="goToPage(20)">
                        <i class="fas fa-trophy"></i>
                        <span>ÙØµÙ„ 5: Ù¾ÛŒØ±ÙˆØ²ÛŒ Ùˆ Ù¾Ø§Ø¯Ø§Ø´</span>
                    </div>
                    <div class="toc-item" onclick="goToPage(25)">
                        <i class="fas fa-star"></i>
                        <span>Ù¾Ø§ÛŒØ§Ù† Ø¯Ø§Ø³ØªØ§Ù†</span>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="nav-button" onclick="showScreen('main-menu')">
                        <i class="fas fa-home"></i>
                        <span id="back-to-menu">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†Ùˆ</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Stats Screen -->
        <div id="stats-screen">
            <div class="lawn-background">
                <div class="page-header">
                    <h2 id="stats-title">Ø¢Ù…Ø§Ø± Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§Ø²ÛŒ</h2>
                </div>
                
                <div class="stats-container">
                    <div class="stat-item">
                        <div class="stat-value" id="pages-read">0</div>
                        <div class="stat-label">ØµÙØ­Ø§Øª Ù…Ø·Ø§Ù„Ø¹Ù‡ Ø´Ø¯Ù‡</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="choices-made">0</div>
                        <div class="stat-label">Ø§Ù†ØªØ®Ø§Ø¨â€ŒÙ‡Ø§ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="play-time">0</div>
                        <div class="stat-label">Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ø§Ø²ÛŒ</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="zombies-defeated">0</div>
                        <div class="stat-label">Ø²Ø§Ù…Ø¨ÛŒâ€ŒÙ‡Ø§ÛŒ Ø´Ú©Ø³Øª Ø®ÙˆØ±Ø¯Ù‡</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="plants-collected">0</div>
                        <div class="stat-label">Ú¯ÛŒØ§Ù‡Ø§Ù† Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ø´Ø¯Ù‡</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="achievements">0</div>
                        <div class="stat-label">Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ú©Ø³Ø¨ Ø´Ø¯Ù‡</div>
                    </div>
                </div>
                
                <div class="page-content">
                    <h3 id="achievements-title">Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ø´Ù…Ø§</h3>
                    <div class="achievement-grid">
                        <div class="achievement locked">
                            <div class="achievement-icon">ğŸŒ±</div>
                            <div class="achievement-title">Ø´Ø±ÙˆØ¹ Ú©Ù†Ù†Ø¯Ù‡</div>
                            <div class="achievement-desc">Ø¨Ø§Ø²ÛŒ Ø±Ø§ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯</div>
                        </div>
                        <div class="achievement locked">
                            <div class="achievement-icon">ğŸ“–</div>
                            <div class="achievement-title">Ú©ØªØ§Ø¨Ø®ÙˆØ§Ù†</div>
                            <div class="achievement-desc">10 ØµÙØ­Ù‡ Ø§Ø² Ø¯Ø§Ø³ØªØ§Ù† Ø±Ø§ Ø¨Ø®ÙˆØ§Ù†ÛŒØ¯</div>
                        </div>
                        <div class="achievement locked">
                            <div class="achievement-icon">ğŸ§ </div>
                            <div class="achievement-title">ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±Ù†Ø¯Ù‡</div>
                            <div class="achievement-desc">5 Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø®ØªÙ„Ù Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯</div>
                        </div>
                        <div class="achievement locked">
                            <div class="achievement-icon">âš”ï¸</div>
                            <div class="achievement-title">Ø²Ø§Ù…Ø¨ÛŒâ€ŒÚ©Ø´</div>
                            <div class="achievement-desc">50 Ø²Ø§Ù…Ø¨ÛŒ Ø±Ø§ Ø´Ú©Ø³Øª Ø¯Ù‡ÛŒØ¯</div>
                        </div>
                        <div class="achievement locked">
                            <div class="achievement-icon">ğŸ†</div>
                            <div class="achievement-title">Ù‚Ù‡Ø±Ù…Ø§Ù†</div>
                            <div class="achievement-desc">Ø¨Ø§Ø²ÛŒ Ø±Ø§ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø¨Ø±Ø³Ø§Ù†ÛŒØ¯</div>
                        </div>
                        <div class="achievement locked">
                            <div class="achievement-icon">â±ï¸</div>
                            <div class="achievement-title">Ø¨Ø§ Ø§Ø³ØªÙ‚Ø§Ù…Øª</div>
                            <div class="achievement-desc">Ø¨ÛŒØ´ Ø§Ø² 60 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯</div>
                        </div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="nav-button" onclick="showScreen('main-menu')">
                        <i class="fas fa-home"></i>
                        <span>Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†Ùˆ</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Settings Screen -->
        <div id="settings-screen">
            <div class="lawn-background">
                <div class="page-header">
                    <h2 id="settings-title">ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø§Ø²ÛŒ</h2>
                </div>
                
                <div class="page-content">
                    <div class="setting-option">
                        <label for="language-select" id="language-label">Ø²Ø¨Ø§Ù†:</label>
                        <select id="language-select" onchange="changeLanguage(this.value)">
                            <option value="fa">ÙØ§Ø±Ø³ÛŒ</option>
                            <option value="en">English</option>
                        </select>
                    </div>
                    
                    <div class="setting-option">
                        <label for="theme-select" id="theme-label">ØªÙ…:</label>
                        <select id="theme-select" onchange="changeTheme(this.value)">
                            <option value="light">Ø±ÙˆØ´Ù†</option>
                            <option value="dark">ØªÛŒØ±Ù‡</option>
                            <option value="zombie">Ø²Ø§Ù…Ø¨ÛŒ</option>
                        </select>
                    </div>
                    
                    <div class="setting-option">
                        <label for="font-size" id="font-size-label">Ø§Ù†Ø¯Ø§Ø²Ù‡ ÙÙˆÙ†Øª:</label>
                        <input type="range" id="font-size" min="14" max="24" value="18" oninput="changeFontSize(this.value)">
                        <div id="font-size-value">18px</div>
                    </div>
                    
                    <div class="setting-option">
                        <label for="music-volume" id="music-label">ØµØ¯Ø§ÛŒ Ù…ÙˆØ³ÛŒÙ‚ÛŒ:</label>
                        <input type="range" id="music-volume" min="0" max="100" value="50" oninput="changeVolume(this.value, 'music')">
                        <div id="music-volume-value">50%</div>
                    </div>
                    
                    <div class="setting-option">
                        <label for="sfx-volume" id="sfx-label">ØµØ¯Ø§ÛŒ Ø§ÙÚ©Øªâ€ŒÙ‡Ø§:</label>
                        <input type="range" id="sfx-volume" min="0" max="100" value="70" oninput="changeVolume(this.value, 'sfx')">
                        <div id="sfx-volume-value">70%</div>
                    </div>
                    
                    <div class="setting-option">
                        <label>
                            <input type="checkbox" id="high-contrast" onchange="toggleHighContrast(this.checked)">
                            <span id="high-contrast-label">Ø­Ø§Ù„Øª Ú©Ù†ØªØ±Ø§Ø³Øª Ø¨Ø§Ù„Ø§</span>
                        </label>
                    </div>
                    
                    <div class="setting-option">
                        <label>
                            <input type="checkbox" id="auto-save" checked onchange="toggleAutoSave(this.checked)">
                            <span id="auto-save-label">Ø°Ø®ÛŒØ±Ù‡ Ø®ÙˆØ¯Ú©Ø§Ø±</span>
                        </label>
                    </div>
                </div>
                
                <div class="navigation">
                    <button class="nav-button" onclick="showScreen('main-menu')">
                        <i class="fas fa-home"></i>
                        <span id="save-settings">Ø°Ø®ÛŒØ±Ù‡ Ùˆ Ø¨Ø§Ø²Ú¯Ø´Øª</span>
                    </button>
                    <button class="nav-button" onclick="resetSettings()">
                        <i class="fas fa-undo"></i>
                        <span id="reset-settings">Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Credits Screen -->
        <div id="credits-screen">
            <div class="lawn-background">
                <div class="page-header">
                    <h2 id="credits-title">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø¨Ø§Ø²ÛŒ</h2>
                </div>
                
                <div class="credits-content">
                    <h3>Crazy Dave's Ultimate Adventure</h3>
                    <p>Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¯Ù†ÛŒØ§ÛŒ Ù…Ø­Ø¨ÙˆØ¨ Plants vs. Zombies Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ùˆ Ø¯Ø§Ø³ØªØ§Ù† Ø¬Ø¯ÛŒØ¯ÛŒ Ø§Ø² Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒÛŒâ€ŒÙ‡Ø§ÛŒ Ø¯ÛŒÙˆ Ø¯ÛŒÙˆØ§Ù†Ù‡ Ø±Ø§ Ø±ÙˆØ§ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</p>
                    
                    <h3>ØªÙˆØ³Ø¹Ù‡ Ø¯Ù‡Ù†Ø¯Ú¯Ø§Ù†</h3>
                    <p>Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ ØªÙˆØ³Ø· ØªÛŒÙ…ÛŒ Ø§Ø² ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ù…Ø³ØªÙ‚Ù„ Ùˆ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø³ØªØ§Ù†ÛŒ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø§Ø³Øª.</p>
                    
                    <h3>Ù…Ù†Ø§Ø¨Ø¹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡</h3>
                    <p>â€¢ ÙÙˆÙ†Øªâ€ŒÙ‡Ø§ÛŒ ÙØ§Ø±Ø³ÛŒ: Vazirmatn, Sahel, Shabnam</p>
                    <p>â€¢ Ø¢ÛŒÚ©Ù†â€ŒÙ‡Ø§: Font Awesome</p>
                    <p>â€¢ Ø§Ù„Ù‡Ø§Ù… Ú¯Ø±ÙØªÙ‡ Ø§Ø² Ø¨Ø§Ø²ÛŒ Plants vs. Zombies ØªÙˆØ³Ø· PopCap Games</p>
                    
                    <h3>Ø­Ù‚ÙˆÙ‚ Ù†Ø´Ø±</h3>
                    <p>Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ ÛŒÚ© Ù¾Ø±ÙˆÚ˜Ù‡ ØºÛŒØ±Ø§Ù†ØªÙØ§Ø¹ÛŒ Ùˆ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø§Ø³Øª Ùˆ Ù‡ÛŒÚ† Ø§Ø¯Ø¹Ø§ÛŒÛŒ Ø¯Ø± Ù…ÙˆØ±Ø¯ Ù…Ø§Ù„Ú©ÛŒØª intellectual property Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Plants vs. Zombies Ù†Ø¯Ø§Ø±Ø¯.</p>
                    
                    <h3>Ù†Ø³Ø®Ù‡ Ø¨Ø§Ø²ÛŒ</h3>
                    <p>Ù†Ø³Ø®Ù‡ Û².Û°.Û° - ØªØ§Ø¨Ø³ØªØ§Ù† Û±Û´Û°Û³</p>
                    
                    <h3>ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</h3>
                    <p>Ø§Ú¯Ø± Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ ÛŒØ§ Ø§Ù†ØªÙ‚Ø§Ø¯ÛŒ Ø¯Ø§Ø±ÛŒØ¯ØŒ Ø¨Ø§ Ù…Ø§ Ø¯Ø± Ù…ÛŒØ§Ù† Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯:</p>
                    <p>Ø§ÛŒÙ…ÛŒÙ„: example@example.com</p>
                </div>
                
                <div class="navigation">
                    <button class="nav-button" onclick="showScreen('main-menu')">
                        <i class="fas fa-home"></i>
                        <span>Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†Ùˆ</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Menu Button -->
    <button class="floating-button" onclick="showScreen('main-menu')">
        <i class="fas fa-home"></i>
    </button>

    <script>
        // Game state
        const gameState = {
            currentPage: 1,
            language: 'fa',
            theme: 'light',
            fontSize: 18,
            musicVolume: 50,
            sfxVolume: 70,
            highContrast: false,
            autoSave: true,
            pagesRead: 0,
            choicesMade: 0,
            playTime: 0,
            zombiesDefeated: 0,
            plantsCollected: 0,
            achievements: 0,
            startTime: Date.now()
        };

        // Text content for different languages
        const textContent = {
            fa: {
                // Loading screen
                loadingText: "Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¨Ø§Ø²ÛŒ...",
                
                // Main menu
                subtitle: "Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒÛŒ Ø¯ÛŒÙˆØ§Ù†Ù‡ ÙˆØ§Ø± Ø¯ÛŒÙˆ Ø¯Ø± Ø¨Ø§ØºÚ†Ù‡!",
                startGame: "Ø´Ø±ÙˆØ¹ Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒÛŒ",
                tableContents: "ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨",
                stats: "Ø¢Ù…Ø§Ø± Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª",
                settings: "ØªÙ†Ø¸ÛŒÙ…Ø§Øª",
                credits: "Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø¨Ø§Ø²ÛŒ",
                
                // Story screen
                prevBtn: "Ù‚Ø¨Ù„ÛŒ",
                nextBtn: "Ø¨Ø¹Ø¯ÛŒ",
                
                // Table of contents
                tocTitle: "ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨",
                backToMenu: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†Ùˆ",
                
                // Stats screen
                statsTitle: "Ø¢Ù…Ø§Ø± Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§Ø²ÛŒ",
                achievementsTitle: "Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ø´Ù…Ø§",
                
                // Settings screen
                settingsTitle: "ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø§Ø²ÛŒ",
                languageLabel: "Ø²Ø¨Ø§Ù†:",
                themeLabel: "ØªÙ…:",
                fontSizeLabel: "Ø§Ù†Ø¯Ø§Ø²Ù‡ ÙÙˆÙ†Øª:",
                musicLabel: "ØµØ¯Ø§ÛŒ Ù…ÙˆØ³ÛŒÙ‚ÛŒ:",
                sfxLabel: "ØµØ¯Ø§ÛŒ Ø§ÙÚ©Øªâ€ŒÙ‡Ø§:",
                highContrastLabel: "Ø­Ø§Ù„Øª Ú©Ù†ØªØ±Ø§Ø³Øª Ø¨Ø§Ù„Ø§",
                autoSaveLabel: "Ø°Ø®ÛŒØ±Ù‡ Ø®ÙˆØ¯Ú©Ø§Ø±",
                saveSettings: "Ø°Ø®ÛŒØ±Ù‡ Ùˆ Ø¨Ø§Ø²Ú¯Ø´Øª",
                resetSettings: "Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª",
                
                // Credits screen
                creditsTitle: "Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø¨Ø§Ø²ÛŒ"
            },
            en: {
                // Loading screen
                loadingText: "Loading game...",
                
                // Main menu
                subtitle: "Dave's crazy adventure in the backyard!",
                startGame: "Start Adventure",
                tableContents: "Table of Contents",
                stats: "Statistics",
                settings: "Settings",
                credits: "About",
                
                // Story screen
                prevBtn: "Previous",
                nextBtn: "Next",
                
                // Table of contents
                tocTitle: "Table of Contents",
                backToMenu: "Back to Menu",
                
                // Stats screen
                statsTitle: "Game Statistics",
                achievementsTitle: "Your Achievements",
                
                // Settings screen
                settingsTitle: "Game Settings",
                languageLabel: "Language:",
                themeLabel: "Theme:",
                fontSizeLabel: "Font Size:",
                musicLabel: "Music Volume:",
                sfxLabel: "SFX Volume:",
                highContrastLabel: "High Contrast Mode",
                autoSaveLabel: "Auto Save",
                saveSettings: "Save and Return",
                resetSettings: "Reset Settings",
                
                // Credits screen
                creditsTitle: "About the Game"
            }
        };

        // Story content
        const storyContent = {
            fa: [
                {
                    title: "Ø´Ø±ÙˆØ¹ Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒÛŒ",
                    text: "Ø¯ÛŒÙˆ Ø¯ÛŒÙˆØ§Ù†Ù‡ Ø§Ø² Ø®ÙˆØ§Ø¨ Ø¨ÛŒØ¯Ø§Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ù…ØªÙˆØ¬Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ú©Ù‡ Ø²Ø§Ù…Ø¨ÛŒâ€ŒÙ‡Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¨Ù‡ Ø¨Ø§ØºÚ†Ù‡â€ŒØ§Ø´ Ø­Ù…Ù„Ù‡ Ú©Ø±Ø¯Ù‡â€ŒØ§Ù†Ø¯! Ø§Ùˆ Ø¨Ø§ÛŒØ¯ Ø³Ø±ÛŒØ¹ Ø¹Ù…Ù„ Ú©Ù†Ø¯ Ùˆ Ú¯ÛŒØ§Ù‡Ø§Ù†Ø´ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø¯ÙØ§Ø¹ Ø§Ø² Ø®Ø§Ù†Ù‡â€ŒØ§Ø´ Ø³Ø§Ø²Ù…Ø§Ù†Ø¯Ù‡ÛŒ Ú©Ù†Ø¯. Ø§Ù…Ø§ Ø§ÛŒÙ† Ø¨Ø§Ø±ØŒ Ú†ÛŒØ²ÛŒ Ù…ØªÙØ§ÙˆØª Ø§Ø³Øª - Ø²Ø§Ù…Ø¨ÛŒâ€ŒÙ‡Ø§ Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ØªØ± Ùˆ Ø¨Ø§Ù‡ÙˆØ´â€ŒØªØ± Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒâ€ŒØ±Ø³Ù†Ø¯. Ø¢ÛŒØ§ Ø¯ÛŒÙˆ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø§Ø² Ø¨Ø§ØºÚ†Ù‡â€ŒØ§Ø´ Ø¯ÙØ§Ø¹ Ú©Ù†Ø¯ Ùˆ Ø±Ø§Ø² Ø§ÛŒÙ† Ø­Ù…Ù„Ù‡ Ø±Ø§ Ú©Ø´Ù Ú©Ù†Ø¯ØŸ",
                    choices: [
                        { text: "Ø³Ø±ÛŒØ¹ Ø¨Ù‡ Ø³Ù…Øª Ø¨Ø§ØºÚ†Ù‡ Ø¨Ø±Ùˆ Ùˆ Ú¯ÛŒØ§Ù‡Ø§Ù† Ø±Ø§ Ø³Ø§Ø²Ù…Ø§Ù†Ø¯Ù‡ÛŒ Ú©Ù†", nextPage: 2 },
                        { text: "Ø§ÙˆÙ„ ÛŒÚ© ÙÙ†Ø¬Ø§Ù† Ù‚Ù‡ÙˆÙ‡ Ø¨Ù†ÙˆØ´ Ùˆ Ø³Ù¾Ø³ Ø¨Ù‡ Ø²Ø§Ù…Ø¨ÛŒâ€ŒÙ‡Ø§ Ø­Ù…Ù„Ù‡ Ú©Ù†", nextPage: 3 }
                    ]
                },
                // More pages would be added here in a real implementation
            ],
            en: [
                {
                    title: "The Adventure Begins",
                    text: "Crazy Dave wakes up and realizes that zombies have attacked his garden again! He must act quickly and organize his plants to defend his home. But this time, something is different - the zombies seem more powerful and smarter. Can Dave defend his garden and uncover the secret of this attack?",
                    choices: [
                        { text: "Quickly go to the garden and organize the plants", nextPage: 2 },
                        { text: "First drink a cup of coffee and then attack the zombies", nextPage: 3 }
                    ]
                },
                // More pages would be added here in a real implementation
            ]
        };

        // Initialize the game
        function initGame() {
            // Create particle background
            createParticles();
            
            // Load saved game state
            loadGameState();
            
            // Set up event listeners
            setupEventListeners();
            
            // Start the loading animation
            startLoadingAnimation();
        }

        // Create particle background
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 30;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // Random properties
                const size = Math.random() * 20 + 5;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                const delay = Math.random() * 15;
                const duration = Math.random() * 10 + 15;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${posX}%`;
                particle.style.top = `${posY}%`;
                particle.style.animationDelay = `${delay}s`;
                particle.style.animationDuration = `${duration}s`;
                
                particlesContainer.appendChild(particle);
            }
        }

        // Start loading animation
        function startLoadingAnimation() {
            const loadingBar = document.querySelector('.loading-bar');
            const zombieHead = document.getElementById('zombie-head');
            const loadingText = document.getElementById('loading-text');
            
            // Animate the zombie head along with the loading bar
            let progress = 0;
            const interval = setInterval(() => {
                progress += 1;
                zombieHead.style.left = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        document.getElementById('loading-screen').style.display = 'none';
                        document.getElementById('container').style.display = 'block';
                        updateUI();
                    }, 500);
                }
            }, 50);
        }

        // Select language
        function selectLanguage(lang) {
            gameState.language = lang;
            document.getElementById('language-screen').style.display = 'none';
            document.getElementById('loading-screen').style.display = 'flex';
            
            // Update body direction for RTL/LTR
            if (lang === 'fa') {
                document.body.classList.remove('english');
            } else {
                document.body.classList.add('english');
            }
            
            // Update UI text
            updateUI();
            
            // Save game state
            saveGameState();
        }

        // Update UI text based on selected language
        function updateUI() {
            const lang = gameState.language;
            const content = textContent[lang];
            
            // Update all text elements
            for (const [key, value] of Object.entries(content)) {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = value;
                }
            }
            
            // Update story content if on story screen
            if (document.getElementById('story-screen').style.display !== 'none') {
                updateStoryPage();
            }
        }

        // Show a specific screen
        function showScreen(screenId) {
            // Hide all screens
            const screens = document.querySelectorAll('.container > div');
            screens.forEach(screen => {
                screen.style.display = 'none';
            });
            
            // Show the requested screen
            document.getElementById(screenId).style.display = 'block';
            
            // Update content if needed
            if (screenId === 'stats-screen') {
                updateStats();
            } else if (screenId === 'story-screen') {
                updateStoryPage();
            }
        }

        // Update the story page
        function updateStoryPage() {
            const lang = gameState.language;
            const page = gameState.currentPage - 1; // Convert to 0-based index
            
            if (storyContent[lang] && storyContent[lang][page]) {
                const storyPage = storyContent[lang][page];
                
                document.getElementById('page-title').textContent = storyPage.title;
                document.getElementById('page-text').textContent = storyPage.text;
                document.getElementById('page-number').textContent = 
                    lang === 'fa' ? `ØµÙØ­Ù‡ ${gameState.currentPage} Ø§Ø² 25` : `Page ${gameState.currentPage} of 25`;
                
                // Update choices
                const choicesContainer = document.getElementById('choices-container');
                choicesContainer.innerHTML = '';
                
                if (storyPage.choices && storyPage.choices.length > 0) {
                    storyPage.choices.forEach(choice => {
                        const button = document.createElement('button');
                        button.classList.add('choice-button');
                        button.textContent = choice.text;
                        button.onclick = () => {
                            gameState.choicesMade++;
                            gameState.currentPage = choice.nextPage;
                            updateStoryPage();
                            saveGameState();
                        };
                        
                        choicesContainer.appendChild(button);
                    });
                }
            }
        }

        // Navigate to next page
        function nextPage() {
            if (gameState.currentPage < 25) {
                gameState.currentPage++;
                gameState.pagesRead++;
                updateStoryPage();
                saveGameState();
            }
        }

        // Navigate to previous page
        function previousPage() {
            if (gameState.currentPage > 1) {
                gameState.currentPage--;
                updateStoryPage();
                saveGameState();
            }
        }

        // Go to a specific page
        function goToPage(page) {
            gameState.currentPage = page;
            gameState.pagesRead++;
            showScreen('story-screen');
            saveGameState();
        }

        // Update stats display
        function updateStats() {
            document.getElementById('pages-read').textContent = gameState.pagesRead;
            document.getElementById('choices-made').textContent = gameState.choicesMade;
            
            // Calculate play time in minutes
            const playTimeMinutes = Math.floor((Date.now() - gameState.startTime) / 60000);
            document.getElementById('play-time').textContent = playTimeMinutes;
            
            document.getElementById('zombies-defeated').textContent = gameState.zombiesDefeated;
            document.getElementById('plants-collected').textContent = gameState.plantsCollected;
            document.getElementById('achievements').textContent = gameState.achievements;
        }

        // Change language
        function changeLanguage(lang) {
            gameState.language = lang;
            
            // Update body direction for RTL/LTR
            if (lang === 'fa') {
                document.body.classList.remove('english');
            } else {
                document.body.classList.add('english');
            }
            
            updateUI();
            saveGameState();
        }

        // Change theme
        function changeTheme(theme) {
            gameState.theme = theme;
            document.body.className = ''; // Remove all classes
            document.body.classList.add(`theme-${theme}`);
            saveGameState();
        }

        // Change font size
        function changeFontSize(size) {
            gameState.fontSize = parseInt(size);
            document.documentElement.style.setProperty('--font-size-base', `${size}px`);
            document.getElementById('font-size-value').textContent = `${size}px`;
            saveGameState();
        }

        // Change volume
        function changeVolume(volume, type) {
            if (type === 'music') {
                gameState.musicVolume = parseInt(volume);
                document.getElementById('music-volume-value').textContent = `${volume}%`;
            } else {
                gameState.sfxVolume = parseInt(volume);
                document.getElementById('sfx-volume-value').textContent = `${volume}%`;
            }
            saveGameState();
        }

        // Toggle high contrast mode
        function toggleHighContrast(enabled) {
            gameState.highContrast = enabled;
            if (enabled) {
                document.body.classList.add('high-contrast');
            } else {
                document.body.classList.remove('high-contrast');
            }
            saveGameState();
        }

        // Toggle auto save
        function toggleAutoSave(enabled) {
            gameState.autoSave = enabled;
            saveGameState();
        }

        // Reset settings to default
        function resetSettings() {
            gameState.theme = 'light';
            gameState.fontSize = 18;
            gameState.musicVolume = 50;
            gameState.sfxVolume = 70;
            gameState.highContrast = false;
            gameState.autoSave = true;
            
            // Update UI
            document.getElementById('theme-select').value = gameState.theme;
            document.getElementById('font-size').value = gameState.fontSize;
            document.getElementById('music-volume').value = gameState.musicVolume;
            document.getElementById('sfx-volume').value = gameState.sfxVolume;
            document.getElementById('high-contrast').checked = gameState.highContrast;
            document.getElementById('auto-save').checked = gameState.autoSave;
            
            changeTheme(gameState.theme);
            changeFontSize(gameState.fontSize);
            changeVolume(gameState.musicVolume, 'music');
            changeVolume(gameState.sfxVolume, 'sfx');
            toggleHighContrast(gameState.highContrast);
            
            saveGameState();
        }

        // Save game state to localStorage
        function saveGameState() {
            if (gameState.autoSave) {
                localStorage.setItem('crazyDaveGameState', JSON.stringify(gameState));
            }
        }

        // Load game state from localStorage
        function loadGameState() {
            const savedState = localStorage.getItem('crazyDaveGameState');
            if (savedState) {
                const parsedState = JSON.parse(savedState);
                Object.assign(gameState, parsedState);
                
                // Apply loaded settings
                changeTheme(gameState.theme);
                changeFontSize(gameState.fontSize);
                changeVolume(gameState.musicVolume, 'music');
                changeVolume(gameState.sfxVolume, 'sfx');
                toggleHighContrast(gameState.highContrast);
                
                // Update UI elements
                document.getElementById('theme-select').value = gameState.theme;
                document.getElementById('font-size').value = gameState.fontSize;
                document.getElementById('music-volume').value = gameState.musicVolume;
                document.getElementById('sfx-volume').value = gameState.sfxVolume;
                document.getElementById('high-contrast').checked = gameState.highContrast;
                document.getElementById('auto-save').checked = gameState.autoSave;
                document.getElementById('language-select').value = gameState.language;
                
                // Update body direction for RTL/LTR
                if (gameState.language === 'fa') {
                    document.body.classList.remove('english');
                } else {
                    document.body.classList.add('english');
                }
            }
        }

        // Set up event listeners
        function setupEventListeners() {
            // Update play time every minute
            setInterval(() => {
                gameState.playTime++;
                saveGameState();
            }, 60000);
        }

        // Initialize the game when the page loads
        window.onload = initGame;
    </script>
</body>
</html>